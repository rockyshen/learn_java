Javaä¸­å„ç§ç±»çš„è¯´æ˜ï¼š[Java 17 API docs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/module-summary.html)
ä¸­æ–‡ç‰ˆAPIè¯´æ˜ï¼š[Java 6 API ä¸­æ–‡æ–‡æ¡£](https://tool.oschina.net/apidocs/apidoc?api=jdk-zh)

å·¥ç¨‹Project  ->  æ¨¡å—module  ->  åŒ…package  ->  ç±»class

OneDrive-ä¸ªäºº/æ–‡æ¡£/02-å­¦ä¹ /Learn_Java_Mosh/java_æ ‡å‡†åŒ…_ç±»_å…³ç³»å›¾.excalidraw
# Excalidrawè§„èŒƒ
  [Excalidrawç»˜å›¾](https://excalidraw.com/)
  è‰²å½©æ ‡è¯†ï¼ŒåŒIDEA
- é»‘è‰²ï¼špackageï¼ŒåŒ…
- è“è‰²ï¼šClassç±»
- ç»¿è‰²ï¼šinterfaceæ¥å£
- è“è‰²è™šçº¿ï¼špomç±»å‹çš„module
- è“è‰²å®çº¿ï¼šmoduleï¼Œå¾®æœåŠ¡æ¨¡å—ï¼ˆè¾¹ä¸Šçš„é»‘è‰²ï¼Œå¯¼å…¥çš„ä¾èµ–ï¼Œå¯ä»¥çœ‹åˆ°ä¸Šä¸‹ä¾èµ–ä¼ é€’å…³ç³»ï¼‰


project.module.package.Class
	ä¸€ä¸ªå·¥ç¨‹ï¼ŒåŒ…å«å¤šä¸ªmoduleï¼ˆå•†å“æ¨¡å—ã€ç”¨æˆ·æ¨¡å—ç­‰ï¼‰
	ä¸€ä¸ªæ¨¡å—ï¼ŒåŒ…å«å¤šä¸ªåŒ…ï¼ˆutilsåŒ…ã€commonåŒ…ç­‰ç­‰ï¼‰
	ä¸€ä¸ªåŒ…ï¼ŒåŒ…å«å¤šä¸ªç±»
![](https://raw.githubusercontent.com/rockyshen/blog-img/master/IMG_1457.PNG)

ç±»çš„å…¨é™å®šç¬¦ï¼Œä¹Ÿå°±æ˜¯ï¼šåŒ….ç±»

ä»€ä¹ˆä¸ç”¨åŠ Moduleå‘¢ï¼Ÿå› ä¸ºModuleä¸‹çš„ç»“æ„æ˜¯å›ºå®šçš„ï¼Œä¹Ÿå°±æ˜¯`src/java/main`å’Œresourceï¼Œæ‰€ä»¥æ‰“æˆJaråŒ…åéƒ½ä¸€æ ·ã€‚
åœ¨æ¨¡å—çš„ src/main/java ç›®å½•å’Œ src/main/resources ç›®å½•ä¸‹åŒæ—¶å­˜åœ¨ç›¸åŒçš„åŒ…åï¼ˆä¾‹å¦‚ com.atguiguï¼‰çš„ç±»æˆ–èµ„æºæ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä¼šè¢«è§†ä¸ºåŒä¸€ä¸ªæ¨¡å—ä¸‹çš„å†…å®¹ï¼Œä¼šè¢«æ‰“åŒ…åœ¨åŒä¸€ä¸ªæ¨¡å—çš„å‘½åç©ºé—´ä¸­ã€‚è¿™æ„å‘³ç€è¯¥æ¨¡å—çš„ç±»åŠ è½½å™¨ä¼šå°†è¿™äº›ç±»æ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªç»Ÿä¸€çš„å‘½åç©ºé—´ï¼Œç¨‹åºå¯ä»¥è®¿é—®è¿™äº›ç±»è€Œä¸å¿…æ˜ç¡®æŒ‡å®šå®ƒä»¬æ¥è‡ªå“ªä¸ªç›®å½•ã€‚

è”æƒ³åˆ°Pythonä¹Ÿæœ‰è‡ªå·±çš„å†…ç½®åº“ 

åœ¨ Java ä¸­ï¼Œ`import` è¯­å¥ç”¨äºå¼•å…¥å…¶ä»–åŒ…ä¸­çš„ç±»æˆ–æ¥å£
å¿…é¡»ç²¾ç¡®åˆ°ç±»æˆ–æ¥å£çš„åç§°ï¼Œå³éœ€è¦æŒ‡å®šå®Œæ•´çš„ç±»æˆ–æ¥å£å
é™¤äº†å¯¼å…¥å•ä¸ªç±»æˆ–æ¥å£å¤–ï¼ŒJava è¿˜æ”¯æŒé€šé…ç¬¦å¯¼å…¥ï¼Œé€šè¿‡ä½¿ç”¨ `import com.example.package.*;` è¿™æ ·çš„è¯­æ³•ï¼Œå¯ä»¥å¯¼å…¥æŸä¸ªåŒ…ä¸‹çš„æ‰€æœ‰ç±»å’Œæ¥å£ã€‚

åœ¨ Python ä¸­ï¼Œ`import` è¯­å¥ç”¨äºå¼•å…¥å…¶ä»–æ¨¡å—ä¸­çš„åŠŸèƒ½ï¼Œå¯ä»¥æ˜¯å•ä¸ªåŠŸèƒ½ã€ç±»æˆ–æ•´ä¸ªæ¨¡å—ã€‚
ä¸éœ€è¦ç²¾ç¡®åˆ°æ¨¡å—ä¸­çš„å…·ä½“åŠŸèƒ½ï¼Œä½ å¯ä»¥é€šè¿‡ `import module_name` æ¥å¯¼å…¥æ•´ä¸ªæ¨¡å—ï¼Œåœ¨ä»£ç ä¸­ä½¿ç”¨æ—¶éœ€è¦å¸¦ä¸Šæ¨¡å—åã€‚
Python æ”¯æŒä»æ¨¡å—ä¸­å¯¼å…¥ç‰¹å®šçš„åŠŸèƒ½æˆ–ç±»ï¼Œé€šè¿‡ `from module_name import function_name` æˆ– `from module_name import class_name` è¿™æ ·çš„è¯­æ³•å¯ä»¥é€‰æ‹©æ€§åœ°å¯¼å…¥æ¨¡å—ä¸­çš„ç‰¹å®šåŠŸèƒ½æˆ–ç±»ã€‚
åœ¨ Python ä¸­ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ `as` å…³é”®å­—ç»™å¯¼å…¥çš„æ¨¡å—ã€åŠŸèƒ½ã€ç±»èµ·ä¸ªåˆ«åï¼Œè¿™å¯¹äºé¿å…å‘½åå†²çªæˆ–ç®€åŒ–ä»£ç å¾ˆæœ‰ç”¨ã€‚

ä»è¿™é‡Œå°±èƒ½çœ‹å‡ºï¼ŒJavaæ˜¯ä¸¥æ ¼çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œæ‰€æœ‰æ–¹æ³•å¿…é¡»ä¾æ‰˜äºç±»ã€‚è€ŒPythonå¹¶éä¸¥æ ¼çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œä¸€ä¸ªåŒ…é‡Œæœ‰å¾ˆå¤šæ–¹æ³•ï¼Œç›´æ¥ç”¨ï¼Œä¸ç”¨ä¾æ‰˜äºç±»ï¼
Javaï¼š[[æ ‡å‡†åŒ….ç±»]]
Pythonï¼š[[æ ‡å‡†åº“.å†…ç½®å‡½æ•°]]ï¼

```
â”œâ”€â”€ module
	â”œâ”€â”€ package1     // å¤–å‡ºåŒ…ï¼Œå¯è¢«å¯¼å…¥
	â€¦â€¦
	â”œâ”€â”€ package2     // ç§æœ‰åŒ…ï¼Œä»…ä¾›moduleå†…éƒ¨ä½¿ç”¨
	â”œâ”€â”€ å…¶ä»–èµ„æºæ–‡ä»¶ 
```

```lang
â”œâ”€â”€ java.base      // moduleï¼Œæ¨¡å—
	â”œâ”€â”€ java.lang     // langåŒ…
		â”œâ”€â”€ Objectç±»
			â”œâ”€â”€ Numberç±»
				â”œâ”€â”€ Byteã€Intergerã€Floatã€Doubleã€Longç±» 
				    //å°†åŸºæœ¬ç±»å‹ä¸­æ•°å­—ç›¸å…³çš„åŒ…è£…æˆç±»
			â”œâ”€â”€ Characterç±»    //å°†åŸºæœ¬ç±»å‹ä¸­çš„charåŒ…è£…æˆç±»				    
			â”œâ”€â”€ Stringç±»
			â”œâ”€â”€ Booleanç±»
		â”œâ”€â”€ Mathç±»
		â”œâ”€â”€ Runtimeç±»
			â”œâ”€â”€ getRuntime.availableProcessors
		â”œâ”€â”€ Systemç±»
		â”œâ”€â”€ Throwableç±»
		â”œâ”€â”€ Iteratoræ¥å£      // å®ç°éå†åŠŸèƒ½çš„æ¥å£ï¼Œæ˜¯utilåŒ…ä¸‹Collectionæ¥å£çš„çˆ¶
		â”œâ”€â”€ Comparableæ¥å£
		â”œâ”€â”€ Threadç±»         // å¹¶å‘ç¼–ç¨‹ç›¸å…³-çº¿ç¨‹ç±»
		â”œâ”€â”€ Runableæ¥å£      // æ¥å£å¯ä»¥å®ç°åœ¨threadä¸Šè¿è¡Œï¼Œè·‘èµ·æ¥
```

^2a7835

```util
	â”œâ”€â”€ java.util       // utilå·¥å…·åŒ…
		â”œâ”€â”€ Collectionæ¥å£    // é›†åˆæ¡†æ¶çš„æ ¹æ¥å£,è·¨åŒ…ç»§æ‰¿langåŒ…ä¸‹çš„Iterableæ¥å£
			â”œâ”€â”€ Listæ¥å£
				â”œâ”€â”€ ArrayListç±»     // å®ç°Listæ¥å£ï¼Œæ•°ç»„
				â”œâ”€â”€ LinkedListç±»    // å®ç°Listæ¥å£ï¼Œé“¾è¡¨
			â”œâ”€â”€ Setæ¥å£
			â”œâ”€â”€ Queueæ¥å£
		â”œâ”€â”€ Collectionsç±»    //æä¾›æ“ä½œé›†åˆCollectionçš„æ–¹æ³•ï¼Œé›†åˆæ¡†æ¶çš„æˆå‘˜
		â”œâ”€â”€ Arrayså®ç”¨ç±»        // æä¾›æ“ä½œæ•°ç»„çš„é™æ€æ–¹æ³•ï¼Œæ˜¯é›†åˆæ¡†æ¶çš„æˆå‘˜
		â”œâ”€â”€ Scannerç±»
		â”œâ”€â”€ Randomç±»
		â”œâ”€â”€ Comparatoræ¥å£
		â”œâ”€â”€ functionåŒ…            // å£°æ˜çš„å‡½æ•°å¼æ¥å£
		â”œâ”€â”€ Streamæµ
			â”œâ”€â”€ Collectoræ¥å£     //ç”¨äºstreamä¸­çš„æ•°æ®æ”¶é›†
			â”œâ”€â”€ Collectorså®ç”¨ç±»  //æä¾›æ”¶é›†å™¨çš„é™æ€æ–¹æ³•
		â”œâ”€â”€ concurrentåŒ…          // Javaå¹¶å‘ç¼–ç¨‹ï¼ŒJUC
			â”œâ”€â”€ locks.Lockæ¥å£      // çº¿ç¨‹å®‰å…¨ç›¸å…³ï¼Œç±»ä¼¼synchronizedå…³é”®å­—	
```

^887a3e

```

	â”œâ”€â”€ java.text      // textåŒ…ï¼Œå¤„ç†æ ¼å¼åŒ–ç›¸å…³
		â”œâ”€â”€	NumberFormatç±»

```

```
// ä»¥ä¸‹ä¸å¸¸ç”¨
	â”œâ”€â”€ java.math      //æ³¨æ„ï¼ŒåŒºåˆ«äºlangåŒ…ä¸­çš„Mathç±»ï¼Œä»»ä½•ç²¾åº¦çš„è®¡ç®—åº•å±‚å®ç°
	â”œâ”€â”€ java.io
		â”œâ”€â”€ Fileç±»       // è¯»å–ã€å­˜å‚¨æ–‡ä»¶æ•°æ®ï¼Œå†™å…¥å†…å­˜  Fileç±»åŠIOæµ 
	â”œâ”€â”€ java.net
	â”œâ”€â”€ java.security
	â”œâ”€â”€ java.time
	â”œâ”€â”€ java.sql         // JDBC
	â”œâ”€â”€ javax.sql        // JDBC		

```

# java.langåŒ…
java.langåŒ…æ˜¯javaè¯­è¨€çš„æ ¸å¿ƒç±»åŒ…ï¼Œä»£è¡¨ï¼šlanguageï¼ˆè¯­è¨€ï¼‰ã€‚
![[#^2a7835]]

## Objectç±»
**==æ‰€æœ‰ç±»çš„ç¥–å®—ç±»ï¼==**
æ˜¯æ‰€æœ‰ç±»çš„çˆ¶ç±»ï¼Œè”æƒ³åˆ°Pythonä¸­çš„[[ç±»#åŸºç±»]]ï¼åœ¨javaä¸­å¦‚æœä¸€ä¸ªç±»æ²¡æœ‰æ˜¾å¼æŒ‡å®šå®ƒçš„çˆ¶ç±»ï¼Œé‚£ä¹ˆé»˜è®¤ç»§æ‰¿è‡ªObjectç±»ã€‚NBå•Š

æ€è€ƒï¼šä¸ºä»€ä¹ˆåŒæ­¥ä»£ç å—æ—¶ï¼Œä»»ä½•ä¸€ä¸ªå¯¹è±¡éƒ½èƒ½ä¼ è¿›å»å‘¢ï¼Ÿ
[[Java_03_é«˜çº§ç‰¹æ€§#åŒæ­¥ä»£ç å—]]
![[Java_03_é«˜çº§ç‰¹æ€§#^b9a4bb]]
### é€šç”¨æ–¹æ³•
ç”±äºObjectç±»æ˜¯æ‰€æœ‰ç±»çš„çˆ¶ç±»ï¼Œå› æ­¤Objectç±»çš„æ–¹æ³•ï¼Œå¯ä»¥è¢«æ‰€æœ‰ç±»å…±åŒä½¿ç”¨ã€‚
ä¸€ä¸ªæŠ½è±¡æ¦‚å¿µçš„ç±»ï¼Œç†åº”å…·å¤‡ä»¥ä¸‹æ–¹æ³•ï¼š
	å¯ä»¥è¢«æ¯”è¾ƒ
	å¯ä»¥åˆ¤æ–­æ˜¯å¦ç›¸ç­‰
	å¯ä»¥å…‹éš†
	å¯ä»¥åŸºäºå®ä¾‹è·å–ç±»å
#### equals( )
Objectç±»åŸç”Ÿçš„equalsæ–¹æ³•ï¼Œå¾ˆé¸¡è‚‹ï¼Œå°±æ˜¯æ£€æµ‹ä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨æ˜¯å¦ç›¸åŒï¼
> `==`æ¯”è¾ƒæ“ä½œç¬¦ï¼Œæ¯”è¾ƒçš„æ˜¯å¼•ç”¨ï¼ŒObjectç±»ä¸‹çš„åŸå§‹equalsæ–¹æ³•ç›¸åŒï¼

å¾ˆé¸¡è‚‹ï¼Œå› ä¸ºåŸºäºPersonç±»ï¼Œnewå‡ºæ¥ä¸¤ä¸ªå®Œå…¨ç›¸åŒä¿¡æ¯çš„å®ä¾‹å¯¹è±¡p1 å’Œ p2ï¼Œè°ƒç”¨equalsè¿˜æ˜¯falseï¼›å› ä¸ºå¼•ç”¨çš„æ˜¯å †ç©ºé—´ä¸¤ä¸ªå®ä¾‹å¯¹è±¡ã€‚
å› æ­¤ï¼Œå¾ˆå¤šç±»éƒ½ä¼šè¦†ç›–equalsæ–¹æ³•ï¼Œä»¥ä¾¿æ ¹æ®å®é™…éœ€æ±‚ï¼Œé’ˆå¯¹å¯¹è±¡çš„æŒ‡å®šFieldçš„å€¼è¿›è¡Œæ¯”è¾ƒã€‚

é‡å†™equal()æ–¹æ³•éœ€è¦æ³¨æ„çš„ç‚¹ï¼š
1ã€ä¼ é€’çš„å‚æ•°å›ºå®šä¸”é»˜è®¤æ˜¯`Object obj`ï¼Œä¸ç„¶@Overrideæ³¨è§£å™¨å°†ç¼–è¯‘é”™è¯¯ï¼
2ã€éœ€è¦åœ¨æ–¹æ³•å†…éƒ¨ï¼Œè¿›è¡ŒDowncasting
3ã€==é‡è¦==ï¼šè‡ªå®šä¹‰çš„ç±»ä¸­ï¼Œequals()å’Œhashcode()å¿…é¡»ä¸€èµ·é‡å†™ï¼Œå¯ä»¥åˆ©ç”¨cmd+nï¼Œè‡ªåŠ¨ç”Ÿæˆé‡å†™çš„equals() å’Œ hashcode()ã€‚

Qï¼šä¸ºä»€ä¹ˆé‡å†™equalsæ–¹æ³•æ—¶ï¼Œå¿…é¡»è¦é‡å†™hashCodeæ–¹æ³•ï¼Ÿ
Aï¼šhashCode å’Œ equals ä¸¤ä¸ªæ–¹æ³•æ˜¯ç”¨æ¥==ååŒåˆ¤æ–­==ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰çš„ï¼å¦‚æœä¸é‡å†™hashcodeåœ¨æ“ä½œé›†åˆç±»æ—¶ï¼Œå°±ä¼šå‡ºç°é—®é¢˜ï¼š
æƒ…å†µ1ï¼šå¯¹è±¡å¦‚æœéœ€è¦æ”¾å…¥HashMapæ—¶ï¼Œéœ€è¦åˆ¤æ–­HashMapä¸­è¿™ä¸ªå¯¹è±¡æ˜¯å¦å­˜åœ¨ï¼Œæ˜¯åŸºäºè¿™ä¸ªå¯¹è±¡ä¸­çš„hashcodeåˆ¤æ–­çš„ã€‚å¦‚æœæˆ‘ä»¬åªé‡å†™equalsæ–¹æ³•ï¼Œåªåˆ¤æ–­å€¼ç›¸åŒï¼Œå¯èƒ½å­˜åœ¨hashCodeä¸åŒï¼Œå°±æ— æ³•å’ŒHashMapç±»ä¸€èµ·é…åˆå·¥ä½œäº†ï¼
æƒ…å†µ2ï¼šæˆ‘ä»¬éƒ½çŸ¥é“Seté›†åˆçš„ç‰¹ç‚¹æ˜¯ä¸å­˜åœ¨é‡å¤å…ƒç´ ï¼Œè¿˜æ˜¯ä¸Šé¢Personç±»å’Œp1ã€p2å®ä¾‹å¯¹è±¡çš„ä¾‹å­ï¼ŒåŠ å…¥æˆ‘ä»¬è‡ªå®šä¹‰çš„Personç±»åªé‡å†™äº†equalsæ–¹æ³•ï¼ˆæˆ‘ä»¬æŒ‡å®šname=nameï¼›age=ageï¼‰ï¼Œä¸é‡å†™hashcodeæ–¹æ³•ï¼Œå½“æˆ‘ä»¬åŠ å…¥Seté›†åˆçš„æ—¶å€™ï¼Œä¸¤ä¸ªéƒ½ä¼šåŠ è¿›å»ï¼Œä¸ä¼šå»é‡ï¼å¤±å»äº†Seté›†åˆçš„æ„ä¹‰ï¼
ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œé‡å†™hashcodeéƒ½æ˜¯åŸºäºFieldé‡å†™ç”Ÿæˆhashå€¼ã€‚ ^bfa335
![[æ•°æ®ç»“æ„-å“ˆå¸Œè¡¨#^a4191a]] ^b940bd

å¯¹è±¡å†…å­˜å¸ƒå±€ä¸­å¯¹è±¡å¤´ -> è®°å½•äº†è¿™ä¸ªå¯¹è±¡çš„hashcode [[JVM#å¯¹è±¡æ ‡è®° Mark Word]]
![[JVM#^e112fb]]
```
public class MyString {  
	// Field
    private String value;  

	// æ„é€ å‡½æ•°
    public MyString(String value) {  
        this.value = value;  
    }  
    
	//é‡å†™equalsæ–¹æ³•
    @Override  
    public boolean equals(Object o) {  
        if (this == o)  
            return true;  
        if (o == null || getClass() != o.getClass())  
            return false;  
  
        MyString myString = (MyString) o;  
        return Objects.equals(value, myString.value);  
    }  
    
	//é‡å†™hashCodeæ–¹æ³•
    @Override  
    public int hashCode() {  
        return Objects.hash(value);  
    }  
}


//æµ‹è¯•ä½¿ç”¨
public class Test {  
    public static void main(String[] args) {  
        MyString str1 = new MyString("Hello");  
        MyString str2 = new MyString("Hello");  
  
        // æµ‹è¯•é‡å†™çš„ equals å’Œ hashCode æ–¹æ³•  
        System.out.println(str1.equals(str2));  // è¾“å‡º true  
        
        // å°† MyString å¯¹è±¡æ”¾å…¥ HashMap        
        Map<MyString, Integer> map = new HashMap<>();  
        map.put(str1, 1);  
        map.put(str2, 2);           
        // å› ä¸ºstr1å’Œstr2çš„hashcodeæ˜¯åŒä¸€ä¸ªï¼Œæ‰€ä»¥è®¤ä¸ºåªæœ‰ä¸€ä¸ªé”®ï¼Œåä¸€ä¸ªé”®è¦†ç›–ç±»å‰ä¸€ä¸ªå€¼  

        System.out.println(map.size());  // è¾“å‡º 1ï¼Œè¯´æ˜åªæœ‰ä¸€ä¸ªé”®å€¼å¯¹è¢«åŠ å…¥ Map ä¸­  
    }  
}

```

^22d0ce

æ€è€ƒï¼šåšåˆ°ä¸€ä¸ªé¢˜ç›®
```
Goodså¯¹è±¡
{
  â€œnameâ€: "çº¢å¯Œå£«"ï¼Œ
  â€œattrListâ€: [çº¢è‰², çº¯å¤©ç„¶, å¾ˆç”œ],
  "count": 10
}

{
  â€œnameâ€: "çº¢å¯Œå£«"ï¼Œ
  â€œattrListâ€: [å¾ˆç”œ, çº¢è‰², çº¯å¤©ç„¶],
  "count": 2
}

{
  â€œnameâ€: "çº¢å¯Œå£«"ï¼Œ
  â€œattrListâ€: [çº¯å¤©ç„¶, çº¢è‰²],
  "count": 5
}

{
  â€œnameâ€: "å°é‡‘è‹¹æœ"ï¼Œ
  â€œattrListâ€: [çº¯å¤©ç„¶, çº¢è‰²],
  "count": 20
}
åªè¦æ»¡è¶³ï¼šnameç›¸åŒï¼ŒattrListä¸­çš„å±æ€§ç›¸åŒï¼Œå°±å¯ä»¥åˆå¹¶åˆ°ä¸€èµ·ã€‚

æœ¬è´¨å°±æ˜¯éœ€è¦æˆ‘ä»¬é‡å†™Goodså¯¹è±¡ä¸­çš„equalsæ–¹æ³•ï¼æ”¹å†™æˆnameç›¸åŒ ä¸” attrListç›¸åŒï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡å°±åˆ¤æ–­ä¸ºç›¸åŒã€‚
æ•…è€Œï¼Œé‡å†™equalså’ŒhashCodeæ–¹æ³•
    @Override  
    public String toString() {  
        return "Goods{" +  
                "name='" + name + '\'' +  
                ", attrList=" + attrList +  
                ", count=" + count +  
                '}';  
    }  
  
    @Override  
    public boolean equals(Object o) {  
        Goods otherGoods = (Goods) o;  // ç±»å‹å¼ºè½¬
        List<String> attrList1 = this.getAttrList();  
        List<String> attrList2 = otherGoods.getAttrList();  
        Collections.sort(attrList1);  
        Collections.sort(attrList2);  
        if(this.getName() == otherGoods.getName() && attrList1.equals(attrList2) ){  
            return true;  
        }else{  
            return false;  
        }  
    }  
  
    @Override  
    public int hashCode() {  
        return Objects.hash(name, attrList, count);  
    }
```


#### hashCode()
è¿”å›ä¸€ä¸ªå¯¹è±¡çš„å“ˆå¸Œå€¼ï¼ˆåŸºäºå†…å­˜ä¸­çš„åœ°å€ï¼‰
==å¯ä»¥ç”¨æ¥å»é‡ï¼==  [[Java_03_é«˜çº§ç‰¹æ€§#distinct()]]

==é‡è¦==ï¼šè‡ªå®šä¹‰çš„ç±»ä¸­ï¼Œequals()å’Œhashcode()å¿…é¡»ä¸€èµ·é‡å†™ï¼Œå¯ä»¥åˆ©ç”¨cmd+nï¼Œè‡ªåŠ¨ç”Ÿæˆé‡å†™çš„equals() å’Œ hashcode()
![[#^b940bd]]

![[Java_03_é«˜çº§ç‰¹æ€§#^d7ce71]]
#### clone( )

#### toString( )
è¿”å›ä¸€ä¸ªå¯¹è±¡çš„å­—ç¬¦ä¸²å½¢å¼ã€‚
printlné»˜è®¤è°ƒç”¨`toString( )`ï¼Œå¯ä»¥ä¸ç”¨è°ƒç”¨
```
textBox.setText("Hello Shen");  
System.out.println(textBox.toString());    //printlné»˜è®¤è°ƒç”¨toString()
System.out.println(textBox);               //å¯ä»¥ä¸ç”¨å†™.toString
```

#### getClass()
è¿”å›è¯¥å¯¹è±¡æ‰€æœ‰çš„fieldså’Œmethods
#### ~~finalize( )~~
ä¸€èˆ¬Javaç¨‹åºå‘˜ä¸ä¼šç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä¸€èˆ¬ç»™å®šåˆ¶JVMçš„å¼€å‘äººå‘˜ä¼šç”¨çš„ï¼
å½“ä¸€ä¸ªå¯¹è±¡**é¦–æ¬¡**è€ƒè™‘è¦è¢«å›æ”¶æ—¶ï¼Œä¼šè°ƒç”¨å…¶finalize()æ–¹æ³•ï¼Œè®©è¿™ä¸ªå¯¹è±¡è®²ä¸€ä¸‹é—è¨€ï¼
@äº¡è¯­ï¼Œå•Šå“ˆå“ˆå“ˆå“ˆï¼ŒçœŸæ˜¯ä¸ªäººæ‰ï¼
ä¸€èˆ¬ç”¨æ³•ï¼š1ã€æ­»ä¹‹å‰ï¼ŒæŠŠæ•°æ®æŒä¹…åŒ–ï¼›2ã€æ­»ä¹‹å‰ï¼Œçœ‹ä¸€ä¸‹èµ„æºæ˜¯å¦é‡Šæ”¾äº†ã€‚

åº•å±‚åŸç†ï¼š[[JVM#å¼ºã€è½¯ã€å¼±ã€è™šå¼•ç”¨]]
è™šå¼•ç”¨ï¼ˆPhantomReference + ReferenceQueueï¼‰ï¼Œå½“å‘ç”ŸGCæ—¶ï¼ŒåŠ åˆ°ReferenceQueueä¸­ï¼Œè®©å®ƒæœ‰æ—¶é—´å¤„ç†åäº‹ï¼

è”æƒ³åˆ°ï¼š[[Spring FrameWork#AOP é¢å‘åˆ‡é¢ç¼–ç¨‹]]ä¸­çš„åç½®é€šçŸ¥@After

#### notify()
å”¤é†’waitçš„çº¿ç¨‹ï¼
ä¸€æ—¦æ‰§è¡Œæ­¤æ–¹æ³•ï¼Œå°±ä¼šå”¤é†’è¢«wait()çš„çº¿ç¨‹ä¸­ä¼˜å…ˆçº§æœ€é«˜çš„ä¸€ä¸ªã€‚è¢«å”¤é†’çš„çº¿ç¨‹ï¼Œ**ä»å½“åˆè¢«wait()çš„ä½ç½®ç»§ç»­æ‰§è¡Œï¼**
çº¿ç¨‹é€šä¿¡çš„æ–¹æ³•ã€‚è¦æ±‚åŒæ­¥ç›‘è§†å™¨éƒ½å¯ä»¥è°ƒç”¨ï¼Œæ‰€ä»¥å¿…é¡»æ˜¯Objectç±»çš„æ–¹æ³•ï¼

![](https://picgo-rockyshen.oss-cn-shanghai.aliyuncs.com/picgo/202408051442627.png)
#### wait()
è®©å½“å‰ç¨‹åºæ‰€åœ¨çº¿ç¨‹ï¼Œè¿›å…¥ç­‰å¾…ç¡çœ çŠ¶æ€ï¼
ç‰¹ç‚¹æ˜¯ï¼šåœ¨å“ªé‡Œç¡ï¼Œå°±åœ¨å“ªé‡Œé†’ã€‚éœ€è¦ç”¨whileå¾ªç¯ï¼Œè€Œä¸æ˜¯ifåˆ¤æ–­ã€‚
![[Java_03_é«˜çº§ç‰¹æ€§#wait() ä¸ sleep()å¯¹æ¯”]]


#### notifyAll()
å…¨éƒ¨å«é†’ï¼

æ³¨æ„ç‚¹ï¼š
1ã€æ­¤ä¸‰ä¸ªæ–¹æ³•ï¼Œå¿…é¡»åœ¨åŒæ­¥ä»£ç å—ï¼ˆæˆ–åŒæ­¥æ–¹æ³•ä¸­ï¼Œä¹Ÿå³synchronizedï¼‰ï¼Œä¸èƒ½åœ¨Lockæ¥å£ä¸­ä½¿ç”¨ï¼ˆLockéœ€è¦é…åˆConditionå®ç°çº¿ç¨‹é€šä¿¡ï¼Œè¯¦è§ï¼šJUCï¼‰ã€‚
2ã€æ­¤ä¸‰ä¸ªæ–¹æ³•çš„è°ƒç”¨è€…ï¼Œå¿…é¡»æ˜¯åŒæ­¥ç›‘è§†å™¨ï¼å¦åˆ™æŠ¥é”™ï¼šillegalMonitorStateExceptionå¼‚å¸¸

[[JDBC#ThreadLocal]]  çº¿ç¨‹æœ¬åœ°å˜é‡ï¼ŒåŒä¸€ä¸ªçº¿ç¨‹ä¸­å…±äº«çš„åŒºåŸŸï¼

### Classç±»
ç»§æ‰¿è‡ªObjectç±»
è¡¨ç¤ºç±»æ¨¡ç‰ˆï¼Œè¿™ä¸ªå¯¹è±¡ã€‚

ä¸‹å›¾ç¤ºä¸­ï¼šï¼ˆå †ï¼‰Classå¯¹è±¡ï¼Œå°±æ˜¯æœ¬Clasç±»çš„å®ä¾‹åŒ–å¯¹è±¡ï¼Œæ¯ä¸€ç§Classæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªClasså¯¹è±¡ã€‚
![[JVM#^147e0c]]
![](https://picgo-rockyshen.oss-cn-shanghai.aliyuncs.com/picgo/202407261453549.JPG)
#### å¸¸ç”¨æ–¹æ³•  
è”æƒ³åˆ°ï¼š[[Java_03_é«˜çº§ç‰¹æ€§#åå°„çš„åº”ç”¨]]

##### forName(String className)
æ ¹æ®ç±»åè¿”å›å¯¹åº”çš„Classå¯¹è±¡
##### getName()
è¿”å›ç±»çš„å®Œå…¨é™å®šå

##### getSuperclass()
è¿”å›ç±»çš„çˆ¶ç±»çš„Classå¯¹è±¡

##### getInterfaces()
è¿”å›å½“å‰ç±»æ‰€æœ‰å®ç°æ¥å£çš„æ•°ç»„

##### isInterface()
åˆ¤æ–­æ˜¯å¦ä¸ºæ¥å£

##### isArray()
åˆ¤æ–­æ˜¯å¦ä¸ºæ•°ç»„

##### newInstance()
æ— å‚æ„é€ å‡½æ•°åˆ›å»ºç±»çš„å®ä¾‹

##### getDeclaredFields()
è¿”å›ç±»ä¸­å£°æ˜çš„==æ‰€æœ‰Filedså±æ€§çš„æ•°ç»„==

##### getDeclaredMethods()
è¿”å›ä¸€ä¸ªåŒ…å«ç±»å£°æ˜==æ‰€æœ‰æ–¹æ³•çš„æ•°ç»„==

##### getDeclaredConstructors()
è¿”å›ä¸€ä¸ªåŒ…å«ç±»==æ‰€æœ‰æ„é€ å‡½æ•°çš„æ•°ç»„==ã€‚



[[Java_01_åŸºç¡€#åŒ…è£…ç±»]]
å°±æ˜¯å°†åŸºå…ƒç±»å‹åŒ…è£…æˆå¯¹åº”çš„å¼•ç”¨æ•°æ®ç±»å‹ã€‚
![[Java_01_åŸºç¡€#^5aca87]]
### åŒ…è£…ç±»é€šç”¨æ–¹æ³•

##### equals() -> @Override Objectç±»
å„ç§åŒ…è£…ç±»çš„equalsæ–¹æ³•éƒ½ä¼šåšä¸¤ä»¶äº‹ï¼šä½¿ç”¨`==`æ¥æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å­˜åœ°å€æ˜¯å¦ç›¸åŒï¼Œç›¸åŒçš„è¯è¿”å›trueï¼Œå†…å­˜åœ°å€ä¸åŒæ—¶ï¼Œæ¥ç€å†å»æ¯”è¾ƒå¯¹è±¡çš„å±æ€§å€¼ï¼Œå¦‚æœç›¸åŒï¼Œä¹Ÿä¼šè¿”å›trueï¼


##### static String valueOf(int i)
å°†ç»™å®šçš„åŸºå…ƒç±»å‹è½¬åŒ–ä¸ºåŒ…è£…ç±»å¯¹è±¡
```
int number = 10;
Interger interger = Interger.valueOf(number);
```

å°†Longç±»å‹çš„æ—¶é—´æˆ³æ•°æ®ï¼Œå˜æˆStringç±»å‹ï¼
```
map.put("timestamp",String.valueOf(System.currentTimeMillis()/1000));  //å‚æ•°5:
```
##### static int parseInt(String str)
å°†ä¼ é€’å‚æ•°çš„æ•°æ®ç±»å‹ï¼Œè§£æä¸ºXXX
```
String str = â€œ123â€ï¼›
int int = parseInt(str);   //å°†ä¼ é€’çš„Stringç±»å‹ï¼Œè§£æä¸ºIntç±»å‹
```

å°†Stringç±»å‹çš„éšæœºæ•°nonceï¼Œè§£æä¸ºLongç±»å‹ï¼Œä¸10000Læ¯”è¾ƒï¼
```
//æ ¡éªŒéšæœºæ•°  
if (Long.parseLong(nonce) > 10000L){       // æ­£å¸¸åº”è¯¥å­˜åœ¨redis,ç„¶åå–å‡ºæ¥çœ‹ä¸€ä¸‹ï¼Œè¿™é‡Œç›´æ¥é€šè¿‡  
    return handleNoAuth(response);  
}
```

å°†Stringç±»å‹çš„æ—¶é—´æˆ³æ•°æ®ï¼Œè§£æä¸ºLongç±»å‹ï¼Œä¸å½“å‰æ—¶é—´æˆ³ï¼ˆLongç±»å‹ï¼‰ï¼Œç›¸å‡ï¼Œä¸èƒ½è¶…è¿‡5åˆ†é’Ÿã€‚
```
æ¯«ç§’ï¼Œé™¤ä»¥1000ï¼Œæœ€åå°±æ˜¯ç§’ï¼Œç›¸å‡300ç§’ï¼Œä¹Ÿå°±æ˜¯5åˆ†é’Ÿä»¥å†…ï¼

Long currentTime = System.currentTimeMillis() / 1000;  
if ((currentTime - Long.parseLong(timestamp)) >= 60 * 5 ) {  
    return handleNoAuth(response);  
}
```
##### xxxValue()
intValue(), doubleValue(), booleanValue()
å°†åŒ…è£…ç±»è½¬æ¢ä¸ºç›¸åº”çš„åŸºå…ƒç±»å‹ã€‚
```
Interger integer = 10;
int num = integer.intValue();    //å°†Integerç±»ï¼Œè½¬åŒ–ä¸ºintåŸºå…ƒç±»å‹
```


### Stringç±»
#### åŸºæœ¬ç‰¹ç‚¹
- 1ã€finalç±»ï¼Œä¸èƒ½å†è¢«ç»§æ‰¿äº†ï¼
- 2ã€å®ç°Serializableï¼Œå¯ä»¥è¢«ç½‘ç»œæˆ–IOæµä¼ è¾“çš„ç±»
- 3ã€å®ç°Comparableï¼Œå¯ä»¥æ¯”è¾ƒå¤§å° ^26674f
- 4ã€æœ¬è´¨ä¸Š :jdk8æ—¶å­˜åœ¨charå‹æ•°ç»„ä¸­ï¼ jdk9å¼€å§‹å­˜åœ¨byteå‹æ•°ç»„ä¸­
```
private final char[] value;    // finalï¼Œä¸€æ—¦æŒ‡æ˜ï¼Œä¸å¯å˜ï¼

private final byte[] value;
```

 Stringç±»æ˜¯ä¸å¯å˜çš„charå‹æ•°ç»„ï¼Œè§Stringç±»çš„æºç ï¼Œç”¨finalä¿®é¥°
 ```
 public final class String  
    implements java.io.Serializable, Comparable<String>, CharSequence,  
               Constable, ConstantDesc {
    private final byte[] value;    # finalä¿®é¥°
}
```

- 5ã€å­—ç¬¦ä¸²å¸¸é‡çš„å­˜å‚¨ä½ç½®
è§ä¸‹å¯¹æ¯”ï¼Œç”±äºå­—ç¬¦ä¸²åœ¨å¼€å‘ä¸­å¤ªå¸¸ç”¨äº†ï¼Œæ‰€ä»¥å•ç‹¬åœ¨å†…å­˜ä¸­å¼€è¾Ÿä¸€ä¸ªåŒºåŸŸå­˜æ”¾å­—ç¬¦ä¸²å¸¸é‡æ± ã€‚
1ã€å­—é¢é‡æ–¹å¼å£°æ˜çš„å­—ç¬¦ä¸²ï¼Œç›´æ¥å†™å…¥å­—ç¬¦ä¸²å¸¸é‡æ± ï¼›2ã€intern()æ–¹æ³•è°ƒç”¨åï¼Œä¹Ÿä¼šå†™å…¥å­—ç¬¦ä¸²å¸¸é‡æ± 
```
String s1 = new String("hello");

String s1 = "hello";   
String s2 = "hello";

sout(s1 == s2)
è¾“å‡ºï¼štrue

s2 += "world";   // è¿™ä¸ªä¸å†å¸¸é‡æ± ä¸­å‘ç”Ÿï¼Œç›´æ¥æ¨è¿›åˆ°å †ä¸­ï¼Œä½œä¸ºnewçš„ä¸€ä¸ªå¯¹è±¡ï¼

```

- 6ã€å½“å¯¹ç°æœ‰å­—ç¬¦ä¸²è¿›è¡Œæ‹¼æ¥ã€æˆ–replaceæ“ä½œæ—¶ï¼Œå¯ä»¥ç†è§£ä¸ºnewä¸€ä¸ªæ–°å¯¹è±¡ï¼Œéœ€è¦åœ¨å †ä¸­å¼€è¾Ÿç©ºé—´ï¼Œä¸å†å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­äº†ã€‚ Stringçš„ä¸å¯å˜æ€§ï¼ ^602256
#### æ„é€ æ–¹æ³•
##### "test" å­—é¢é‡
å­—é¢é‡æ„é€ çš„ï¼Œä¼šå­˜å…¥å­—ç¬¦ä¸²å¸¸é‡æ± 
```
String s1 = â€œtestâ€;
```
##### new String(â€œtestâ€)
ä¸ä¼šå­˜å…¥å­—ç¬¦ä¸²å¸¸é‡æ± ï¼Œç›´æ¥å»å †ç©ºé—´ä¸­åˆ›å»ºå¯¹è±¡
```
String()                                    # ç©ºå‚ï¼Œcharå‹æ•°ç»„ï¼Œé•¿åº¦ä¸º0
String("orignal")                           # ä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²è¿›å» 
```

##### intern()
å¦‚æœä¸å­˜åœ¨ï¼Œå°±åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± åˆ›å»ºä¸€ä¸ªï¼›
å¦‚æœå­˜åœ¨ï¼Œå°±è¿”å›å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­çš„å¼•ç”¨ã€‚

```
String s1 = "abc";  
String s2 = new String("abc").intern();  
  
System.out.println(s1 == s2);    // ä¸è°ƒç”¨internï¼Œè¿”å›false;è°ƒç”¨internï¼Œè¿”å›true
```

è¿™æ˜¯ä¸€ä¸ªnativeæ–¹æ³•å“¦ï¼

##### new String(`char[]`)
charå‹æ•°ç»„ï¼Œæ²¡äººä¼šè¿™ä¹ˆåˆ›å»ºå­—ç¬¦ä¸²å§ğŸ˜‚
```
String(char[ ] value)           # new String(new char[]{'a', 'b', 'c'})  str.toCharArray()
String(char[ ] value, int offset, int count)
```

##### Stringä¸charå‹æ•°ç»„çš„è½¬æ¢
str.toCharArray()
å°†å­—ç¬¦ä¸²è½¬åŒ–ä¸ºcharå‹æ•°ç»„ï¼å¸¸ç”¨äºç®—æ³•ä¸Š
```
char[] chars = str.toCharArray();

String str = new String(chars);
```
##### new String(`byte[]`)
byteå‹æ•°ç»„ï¼Œä¹Ÿæ²¡æœ‰äººä¼šè¿™ä¹ˆåˆ›å»ºå­—ç¬¦ä¸²å§
```
String(byte[ ] bytes)                       # ä¸æŒ‡æ˜å­—ç¬¦é›†ï¼Œå¿…é¡»è¦å‰åä¸€è‡´ï¼›
String(byte[ ] bytes, String chasetName)    # ä¹Ÿå¯ä»¥æŒ‡æ˜å­—ç¬¦é›†
```

##### Stringä¸byteå‹æ•°ç»„çš„è½¬æ¢
str.getBytes()
Stringç±»å‹ï¼Œè½¬åŒ–ä¸ºbyteå‹æ•°ç»„ï¼Œä½¿ç”¨é»˜è®¤å­—ç¬¦é›†ï¼ˆutf-8ï¼‰
Stringç±»å‹äºbyteå‹æ•°ç»„çš„è½¬æ¢
```
byte[] bytes = str.getBytes();

String str = new String(bytes);
```

æŒ‡æ˜å­—ç¬¦é›†
```
str.getBytes("gbk")ï¼›   // æŒ‡æ˜å­—ç¬¦é›†ï¼
```

#### Stringçš„æ‹¼æ¥/æ‹†åˆ†æ“ä½œ
![[#^602256]]

å¸¸é‡ + å¸¸é‡  ï¼š ç»“æœè¿˜æ˜¯å¸¸é‡ï¼Œè¿˜åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­
	å¸¸é‡ï¼Œå¯èƒ½æ˜¯å­—é¢é‡ï¼Œä¹Ÿå¯èƒ½æ˜¯finalä¿®é¥°çš„å¸¸é‡ã€‚
å¸¸é‡ + å˜é‡ï¼Œå˜é‡ + å˜é‡ï¼šéƒ½ä¼šnewå‡ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œè¿”å›çš„æ˜¯å †ç©ºé—´ä¸­æ­¤å¯¹è±¡çš„åœ°å€
è°ƒç”¨intern()ï¼šè¿”å›çš„æ˜¯å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­å­—é¢é‡çš„åœ°å€ã€‚ï¼ˆä¸å­˜åœ¨å°±åˆ›å»ºä¸€ä¸ªï¼‰
##### s1 + s2
```
String s1 = "hello";  
String s2 = "world";

String s7 = s1 + s2;   // å¸¸é‡ + å¸¸é‡ï¼Œè¿˜æ˜¯ä¸€ä¸ªå¸¸é‡
```

##### String concat()
æ‹¼æ¥ï¼Œä¼šç”Ÿæˆæ–°çš„å¯¹è±¡ï¼
ä¸ç®¡æ˜¯å¸¸é‡è°ƒç”¨æ­¤æ–¹æ³•ï¼Œè¿˜æ˜¯å˜é‡è°ƒç”¨æ­¤æ–¹æ³•ã€‚ä¸ç®¡å‚æ•°æ˜¯å¸¸é‡è¿˜æ˜¯å˜é‡ã€‚æ€»ä¹‹ï¼Œè°ƒç”¨å®Œconcatæ–¹æ³•ä¹‹åï¼Œéƒ½è¿”å›ä¸€ä¸ªæ–°newçš„å¯¹è±¡ï¼
```
String s1 = "hello";
String s2 = "world";

String s3 = s1.concat(s2);
```

##### `String[]` split()
æŒ‡å®šçš„åˆ†éš”ç¬¦å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ‹†åˆ†ï¼Œè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚
```
String str = "apple,banana,orange";

String[] arr = str.split(",");
 
System.out.println(Arrays.toString(arr)); // è¾“å‡º [apple, banana, orange]
```

##### static String join()
Stringç±»çš„é™æ€æ–¹æ³•ï¼Œå°†ä¸€ä¸ªStringç±»ä¸‹çš„æ•°ç»„åˆå¹¶ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç”¨ç¬¦å·è¿æ¥
```
String[] arr = {"apple", "banana", "orange"};

String result = String.join(",", arr);

System.out.println(result); // è¾“å‡º apple,banana,orange
```

#### å¸¸ç”¨æ–¹æ³•
##### equals() -> @Override Objectç±»
Stringç±»ä¸­ï¼Œé‡å†™äº†equalsæ–¹æ³•ï¼Œåˆ¤æ–­å­—ç¬¦ä¸²çš„å†…å®¹æ˜¯å¦ç›¸åŒï¼åŒºåˆ†å¤§å°å†™çš„ï¼

éœ€è¦æ³¨æ„ï¼šç©ºæŒ‡é’ˆå¼‚å¸¸ 
![[Java_01_åŸºç¡€#^3ee420]]
```
å¯¹è±¡.equals("userName")    // å¦‚æœå¯¹è±¡ä¸ºç©ºï¼Œå®¹æ˜“å‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸


"userName".equals(å¯¹è±¡)   // è¿™ç§å†™æ³•å¯ä»¥é¿å…ç©ºæŒ‡é’ˆå¼‚å¸¸
```

##### boolean equalsIgnoreCase()
æ¯”è¾ƒå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œå¿½ç•¥å¤§å°å†™
##### boolean isEmpty()
åˆ¤æ–­å½“å‰å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º
```
String str = null;  
System.out.println(str.isEmpty());

# ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼šjava.lang.NullPointerException
```

![[#^028e43]]

æ³¨æ„ï¼šApache common langçš„isEmptyå¯ä»¥å¤„ç†nullçš„ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œä½†æ˜¯Objectç±»çš„é€šç”¨æ–¹æ³•isEmptyæ— æ³•å¤„ç†nullçš„ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼ ^21ee45

##### int length()
è¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦

##### int compareTo(String other)   --å®ç°-->  Comparablableæ¥å£
![[#^26674f]]
å¯¹[[#Comparableæ¥å£]]ä¸­çº¦å®šçš„[[#compareTo(T o)]]]æ¥å£æ–¹æ³•åœ¨çš„å®ç°ï¼

æ¯”è¾ƒå­—ç¬¦ä¸²å¤§å°ï¼ŒåŒºåˆ«å¤§å°å†™ï¼ŒæŒ‰ç…§Unicodeç¼–ç å€¼æ¯”è¾ƒå¤§å°

##### int compareToIgnoreCase(String other)
å¿½ç•¥å¤§å°å†™çš„æƒ…å†µä¸‹ï¼Œæ¯”è¾ƒå¤§å°å†™

##### toUpperCase()
toLowerCase()
å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºï¼šå¤§å†™ã€å°å†™ã€‚

ä¸­æ–‡è½¬æ¢æˆå¤§å°å†™ï¼Œæ²¡æœ‰ä»»ä½•å˜åŒ–ï¼
##### toLowerCase()
toLowerCase()
å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºï¼šå¤§å†™ã€å°å†™ã€‚

##### trim()
åªä¼šå»é™¤å­—ç¬¦ä¸²å‰åä¸¤å¤´çš„ç©ºæ ¼ï¼Œä¸­é—´çš„ç©ºæ ¼ä¸ä¼šå»é™¤ï¼

*********
==**æŸ¥æ‰¾ç›¸å…³**==
##### boolean contains(â€œtestâ€)
å½“å‰å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«xxx

##### int indexOf("test")
ä»å‰å¾€åæŸ¥æ‰¾xxç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ä½ç½®
æ³¨æ„ï¼šå‚æ•°å¿…é¡»å®Œå…¨åŒ¹é…ï¼Œæ‰ä¼šè¿”å›ç¬¬ä¸€ä¸ªç´¢å¼•ä½ç½®ï¼Œå¦‚æœä¸ä¸€æ ·ï¼Œå°±ä¼šè¿”å›-1
```
String s3 = "å°šç¡…è°·æ•™è‚²";
int i = s3.indexOf("ç¡…è°·");  
System.out.println(i);

è¾“å‡ºï¼š1

charå‹æ•°ç»„
[å°š ç¡… è°· æ•™ è‚²]
 0  1  2  3  4 
    ^

String s3 = "å°šç¡…è°·æ•™è‚²";
int i = s3.indexOf("ç¡…è°·a");  
System.out.println(i);

ä¸å®Œå…¨åŒ¹é…ï¼Œå°±è®¤å®šä¸ºæ²¡æ‰¾åˆ°ï¼Œè¿”å›-1
```

##### ã€é‡è½½ã€‘int indexOf("test", int fromIndex)
ä»æŒ‡å®šçš„ç´¢å¼•ä½ç½®å¼€å§‹ï¼Œå¾€åæ‰¾ï¼Œè·³è¿‡ä¸€éƒ¨åˆ†

##### int lastIndexOf("text")
ä»åå¾€å‰æ‰¾ï¼Œè¿”å›åé¢å¼€å§‹ï¼Œæ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªç´¢å¼•ã€‚

##### ã€é‡è½½ã€‘int lastIndex("text", int fromIndex)
ä»åé¢å¼€å§‹ï¼Œè·³è¿‡ä¸€éƒ¨åˆ†ï¼Œå¼€å§‹æ‰¾

##### String substring(intÂ beginIndex)
æˆªå–å­—ç¬¦ä¸²ä¸­ä¸€éƒ¨åˆ†
```
"hamburger".substring(4, 8) 

returns "urge"
```

åº•å±‚å°±æ˜¯new String(value, beginIndex, subLen)
##### ã€é‡è½½ã€‘String substring(int beginIndex, int endIndex)
æŒ‡å®šå¼€å§‹ã€å’Œç»“æŸçš„ä½ç½®   å·¦é—­å³å¼€åŒºé—´ï¼

==åœ¨Javaä¸­ï¼Œbeginå’Œendï¼Œé»˜è®¤éƒ½æ˜¯å·¦é—­å³å¼€åŒºé—´ï¼==


##### format()
è¿›è¡Œå­—ç¬¦ä¸²æ ¼å¼åŒ–ï¼Œå…¶ä¸­ `%s` æ˜¯å ä½ç¬¦ï¼Œç”¨äºæ’å…¥å˜é‡çš„å€¼

åœ¨ Java ä¸­
â€¢ %s ä»£è¡¨å­—ç¬¦ä¸²æ ¼å¼åŒ–å ä½ç¬¦ï¼Œç”¨äºæ’å…¥å­—ç¬¦ä¸²å˜é‡ã€‚
â€¢ %d ä»£è¡¨æ•´æ•°æ ¼å¼åŒ–å ä½ç¬¦ï¼Œç”¨äºæ’å…¥æ•´æ•°å˜é‡ã€‚

```
String.format("prize_coupon_"+"%s", prizeId)   # ç›¸å½“äºæŠŠprizeIdæ‹¼æ¥åœ¨åé¢
```




***************
==**charæ•°ç»„ç›¸å…³**==
##### char charAt(index)
è¿”å›ç´¢å¼•å¤„çš„å•ä¸ªå­—ç¬¦ï¼Œæ•°æ®ç±»å‹å°±æ˜¯ï¼šcharï¼Œå•ä¸ªå­—ç¬¦
```
        String s3 = "hello";  
        char c = s3.charAt(2);
```

##### static String valueOf(`char[]` data)
é™æ€æ–¹æ³•ï¼Œå°†charå‹æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²
```
char[] arr = new char[]{'a','b','s'};  
String s = String.valueOf(arr);  

System.out.println(s);
```

##### static String copyValueOf(`char[]` data)
æ–°newä¸€ä¸ªå¯¹è±¡ï¼Œä¸€ä»½æ‹·è´ï¼

********
==**å¼€å¤´ç»“å°¾ç›¸å…³**==
##### boolean startWith("test")
æ˜¯å¦ä»¥æŒ‡å®šä½ç½®å¼€å§‹

##### ã€é‡è½½ã€‘boolean startWith("test", int toOffser)
ä»æŒ‡å®šç´¢å¼•å¤„å¼€å§‹æŸ¥è¯¢åŒ¹é…ï¼

##### boolean endWith("test") 
è¿”å›å¸ƒå°”å€¼ï¼Œæ˜¯å¦ä»¥æŒ‡å®šåç¼€ç»“å°¾

*******
==**æ›¿æ¢ç›¸å…³**==
##### String replace(char oldChar,  char newChar) 
ç”¨oldChar æ›¿æ¢æˆ newCharï¼Œç„¶åè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²

æ³¨æ„ï¼šè¿™ä¸ªreplaceæ–¹æ³•ä¸ä¼šæ”¹å˜åŸæ¥messageçš„å€¼ï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„ï¼

å…³äºParameter å’Œ Argumentçš„ç†è§£ï¼š ^cae751
Parametersæ˜¯å½¢å‚ï¼Œæ˜¯ï¼štargetå’Œreplacement
Argumentsæ˜¯å®å‚ï¼Œ æ˜¯ ï¼šâ€œ!â€ å’Œ â€œ~â€   ^3f6a72
```
replace(target:"~", replacement:"~")
```

è½¬ä¹‰ç¬¦
Windowsè·¯å¾„çš„è½¬ä¹‰  `"C:\\Users\\61750"`  ä¸¤ä¸ª`\`ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯è½¬ä¹‰ç¬¦
`\n`   è¡¨ç¤ºæ¢è¡Œç¬¦
`\t`    è¡¨ç¤ºtabåˆ¶è¡¨ç¬¦

##### ã€é‡è½½ã€‘String replace(CharSequence target, CharSequence replacement)
é™¤äº†ä¸Šé¢çš„å•ä¸ªcharï¼Œä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼ˆcharsequence å­—ç¬¦ä¸²åºåˆ—ï¼‰

```
String s2 = s1.replace("ll", "www");
```

##### replaceAll(String regex, String replacement)
ä½¿ç”¨ç»™å®šçš„replacementæ›¿æ¢æ­¤å­—ç¬¦ä¸²ä¸­åŒ¹é…æ­£åˆ™çš„å­å­—ç¬¦ä¸²
[[re.æ­£åˆ™è¡¨è¾¾å¼]]

##### replaceFirst(String regex, String replacement)
ä½¿ç”¨ç»™å®šçš„replacementæ›¿æ¢æ­¤å­—ç¬¦ä¸²ä¸­åŒ¹é…æ­£åˆ™çš„ç¬¬ä¸€ä¸ªå­å­—ç¬¦ä¸²

| XX             | XX                                                               |
| -------------- | ---------------------------------------------------------------- |
| Stringç±»        | ä¸å¯å˜çš„å­—ç¬¦åºåˆ—ï¼›<br>                                                    |
| StringBufferç±»  | å¯å˜çš„å­—ç¬¦åºåˆ—ï¼›<br>JDK 1.0å¼•å…¥ï¼Œçº¿ç¨‹å®‰å…¨çš„ï¼ˆæ–¹æ³•éƒ½åŠ äº†synchronizedï¼‰ï¼›æ•ˆç‡ä½ä¸€äº›ï¼ˆéƒ½æ¯”Stringé«˜æ•ˆï¼‰ |
| StringBuilderç±» | å¯å˜çš„å­—ç¬¦åºåˆ—ï¼›<br>JDK 5.0å¼•å…¥ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼›æ•ˆç‡é«˜ä¸€äº›ï¼ˆéƒ½æ¯”Stringé«˜æ•ˆï¼‰                    |
ä¸å¯å˜ï¼šæ˜¯æŒ‡â€œhelloâ€è¿™ä¸ªå­—ç¬¦ä¸²çš„ç»“æ„ï¼Œæ˜¯ä¸å¯å˜çš„ã€‚ä¸‰ä¸ªå¯¹è±¡å¼•ç”¨å­—ç¬¦ä¸²å¸¸é‡æ± çš„åŒä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä»»ä½•äººæƒ³æ”¹ï¼Œéƒ½å¿…é¡»å»æ–°newä¸€ä¸ªå¯¹è±¡ï¼
å¯å˜ï¼šæ˜¯æŒ‡â€œhelloâ€è¿™ä¸ªå­—ç¬¦ä¸²çš„ç»“æ„ï¼Œæ˜¯å¯å˜çš„ã€‚å¯ä»¥åœ¨åŸæ¥çš„å­—ç¬¦ä¸²åé¢ç›´æ¥æ‹¼æ¥ï¼â€œhelloworldâ€

### StringBuilderç±»
å¯å˜çš„å­—ç¬¦åºåˆ—ï¼›çº¿ç¨‹ä¸å®‰å…¨ï¼›æ€§èƒ½æœ€å¥½ï¼

![[#^8d848b]]

#### å¸¸ç”¨æ–¹æ³•
##### StringBuffer append("text")
åœ¨ç°æœ‰çš„charå‹æ•°ç»„ä¸­ï¼Œå¾€åæ·»åŠ 
å¯ä»¥é“¾å¼è°ƒç”¨
```
StringBuilder sBuilder = new StringBuilder();
sBuilder.append("abc").append("efg");
```
##### StringBuffer delete(int start, int end)
åˆ é™¤æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦
##### StringBuffer deleteCharAt(int index)
åˆ é™¤æŒ‡å®šç´¢å¼•ä½ç½®çš„å•ä¸ªchar
##### replace(int start, int end, String str)
ä»startåˆ°endï¼Œæ”¹ä¸ºstr
è¶…è¿‡ï¼Œæˆ–ä¸è¶³éƒ½æ²¡å…³ç³»çš„ï¼
##### setCharAt(int index, char c)
å°†æŒ‡å®šç´¢å¼•ä½ç½®çš„charå•ä¸ªå­—ç¬¦ï¼Œæ”¹ä¸ºc
##### charAt(int index)
æŸ¥çœ‹æŒ‡å®šä½ç½®çš„å•ä¸ªå­—ç¬¦
##### StringBuffer insert(int index, xx)
åœ¨indexç´¢å¼•å¤„ï¼Œæ’å…¥ä¸€ä¸ªæ–°çš„xxx
##### int length()
è¿”å›StringBuilderçš„é•¿åº¦ï¼Œè¿”å›çš„æ˜¯å®é™…å­˜å‚¨çš„å­—ç¬¦çš„ä¸ªæ•°
##### int setLength(int newLength)
æˆªå–ä¸€æ®µï¼Œcountè®¾ç½®ä¸ºæŒ‡å®šçš„æ•°ã€‚åé¢å¤šä½™çš„å­—ç¬¦ä¼šæ— è§†ï¼
å¦‚æœsetä¸€ä¸ªå¤§çš„æ•°å€¼ï¼Œæ‹¿â€œ`0`â€å»å¡«å……ï¼
##### reverse()
åè½¬ï¼ŒStringé‡Œæ²¡æœ‰è¿™ä¸ªåè½¬

### StringBufferç±»
å¯å˜çš„å­—ç¬¦åºåˆ—ï¼Œçº¿ç¨‹å®‰å…¨çš„ï¼
StringBufferæ‰€æœ‰æ–¹æ³•ï¼Œéƒ½åŠ äº†synchronizedï¼Œçº¿ç¨‹å®‰å…¨ï¼

StringBufferå’ŒStringBuilderè¿™å“¥ä¸¤ï¼Œéƒ½ä¼šç»§æ‰¿è‡ªï¼šAbstractStringBuilderç±» ^8d848b

å”¯ä¸€çš„åŒºåˆ«ï¼Œå°±æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨ã€ä¸€ä¸ªçº¿ç¨‹ä¸å®‰å…¨
#### å¯å˜æ€§åˆ†æ
è§æºç ï¼š
```
abstract class AbstractStringBuilder implements Appendable, CharSequence {     
    byte[] value;    # æ²¡æœ‰ç”¨finalä¿®é¥°ï¼Œå¯å˜é•¿åº¦ï¼å¼•ç”¨å¯ä»¥æ¢æ¥æ¢å»
	byte coder;  
	int count;       # å®é™…å­˜å‚¨çš„å­—ç¬¦ä¸ªæ•°ï¼
```

æ€è€ƒï¼šç”¨finalå’Œæ²¡æœ‰ç”¨finalä¿®é¥°çš„æ•°ç»„ï¼Œæœ‰ä»€ä¹ˆä¸åŒç‰¹ç‚¹ï¼Ÿ
1ã€æ•°ç»„çš„å¼•ç”¨ä¸å¯å˜ï¼Œä½ ä¸èƒ½å†è®©è¿™ä¸ªæ•°ç»„å¼•ç”¨æŒ‡å‘å…¶ä»–æ•°ç»„ï¼›
2ã€æ•°ç»„ä¸­çš„å…ƒç´ æ˜¯å¯å˜çš„ï¼Œä½†æ˜¯å†…å­˜ç©ºé—´æ˜¯å›ºå®šçš„ï¼Œä¸ªæ•°ä¹Ÿå°±æ˜¯å›ºå®šçš„ã€‚

ç©ºå‡ºæ¥çš„16ä¸ªä½ç½®å¹²ä»€ä¹ˆç”¨å‘¢ï¼Ÿæ–¹ä¾¿åé¢å¯ä»¥æ·»åŠ å…ƒç´ ï¼Œé¢„ç•™çš„ï¼
```
StringBuilder sBuilder = new StringBuilder();
// åº•å±‚å…¶å®newäº†ä¸€ä¸ªchar[16]ï¼Œé»˜è®¤æ˜¯16ä¸ªå®¹é‡ï¼Œè¿™16ä¸ªæ¡¶é‡Œä¸€ä¸ªå…ƒç´ ä¹Ÿæ²¡æ”¾ï¼›

StringBuilder sBuilder = new StringBuilder(â€œabcâ€);
// å‰é¢16ä¸ªä½ç½®å§‹ç»ˆç©ºç€ï¼Œæ–°åˆ›å»ºçš„éƒ½å¾€åæ¥ã€‚
```

ä¸æ–­æ·»åŠ ï¼Œè¶…è¿‡16ä¸ªç©ºä½ç½®çš„æ—¶å€™ï¼Œå°±æ›´æ–°ä¸€ä¸ªå¼•ç”¨ã€‚

è§æºä»£ç ä¸­
ensureCapacityInternal(minimunCapacity) -> newCapacity(minimunCapacity)
	æ–¹æ³•å†…éƒ¨ï¼Œåˆ©ç”¨ä½è¿ç®—ç¬¦è¿›è¡Œæ‰©å®¹ value.lenght << 1 + 2 (ç­‰ä»·äºvalue.length * 2 + 2ï¼‰
	
æ‰©å®¹ï¼šåŸå®¹é‡2å€+2ï¼å¹¶å°†åŸæœ‰valueçš„`char[]`å¤åˆ¶åˆ°æ–°ä½ç½®ä¸Šï¼

#### ä¸‰ä¸ªç±»çš„é€‰æ‹©
1ã€å¦‚æœå¼€å‘ä¸­ï¼Œéœ€è¦é¢‘ç¹é’ˆå¯¹å­—ç¬¦ä¸²è¿›è¡ŒCRUDæ“ä½œï¼Œå»ºè®®ä½¿ç”¨StringBufferå’ŒStringBuilderæ›¿æ¢Stringã€‚å› ä¸ºStringæ•ˆç‡ä½ï¼›
2ã€å¦‚æœå¼€å‘ä¸­ï¼Œä¸æ¶‰åŠçº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå»ºè®®ä½¿ç”¨StringBuilderï¼Œä¸ç”¨æ¯æ¬¡å»æ¡é”synchronizedã€‚
3ã€å¦‚æœå¼€å‘ä¸­ï¼ŒåŸºæœ¬ç¡®å®šå­—ç¬¦ä¸ªæ•°å¤§äº16ä¸ªæ—¶ï¼Œå¯ä»¥ä½¿ç”¨new StringBuilder(int capacity)ï¼Œé¿å…åº•å±‚é¢‘ç¹æ‰©å®¹ã€‚
```
StringBuilder sBuilder = new StringBuilder(50);     

// æå‰åˆ›å»ºä¸€ä¸ª50ä¸ªä½ç½®çš„char[]æ•°ç»„ï¼Œé¿å…ä¸€ä¸Šæ¥å°±é¢‘ç¹æ‰©å®¹
```

#### å¸¸ç”¨æ–¹æ³•
åŒStringBuilderï¼Œåªæ˜¯å¤šäº†synchronizedåŒæ­¥å…³é”®å­—ï¼

- append(String str)    åœ¨å­—ç¬¦ä¸²æœ«å°¾è¿½åŠ ä¸€ä¸ªå­—ç¬¦ä¸²
- insert(int offset, String str)   åœ¨æŒ‡å®šä½ç½®æ’å…¥ä¸€ä¸ªå­—ç¬¦ä¸²     offset  åç§»é‡
- delete(int start, int end)       åˆ é™¤æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦
- deleteCharAt(int index)       åˆ é™¤æŒ‡å®šä½ç½®ä¸Šçš„å­—ç¬¦
- replace(int start, int end, String str)    ç”¨æ–°å­—ç¬¦ä¸²æ›¿æ¢æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦
- reverse()         å°†å­—ç¬¦ä¸²è¿›è¡Œåè½¬
- toString()        å°†StringBuilderå¯¹è±¡è½¬ä¸ºStringå¯¹è±¡


### Integerç±»
#### Integer.parseInt(String str)
é™æ€æ–¹æ³•ï¼Œå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•´æ•°å€¼
#### intValue()
longValue() floatValue() doubleValue()  å°†Integerç±»çš„å®ä¾‹å¯¹è±¡è½¬ä¸ºå¯¹åº”åŸºå…ƒç±»å‹
#### toString()
å°†æ•´æ•°è½¬ä¸ºå­—ç¬¦ä¸²ç±»å‹Stringç±»
#### compareTo(Integer, AnotherInteger)
å¯¹[[#Comparableæ¥å£]]ä¸­çº¦å®šçš„[[#compareTo(T o)]]]æŠ½è±¡æ–¹æ³•åœ¨Integerç±»çš„å®ç°ï¼
ä¸¤ä¸ªIntegerç±»çš„å®ä¾‹æ¯”è¾ƒå¤§å°
	- è¿”å›å€¼å¤§äº0ï¼Œè¡¨ç¤ºå½“å‰å¯¹è±¡å¤§äºAnotherInteger
	- è¿”å›å€¼å°äº0ï¼Œè¡¨ç¤ºå½“å‰å¯¹è±¡å°äºAnotherInteger
	- è¿”å›å€¼ç­‰äº0ï¼Œè¡¨ç¤ºä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰

#### o1.equals(Object obj2)

åˆ¤æ–­obj1ä¸obj2æ˜¯å¦ç›¸ç­‰
#### valueOf(int i)
@override åŒ…è£…ç±»ä¸­çš„æ–¹æ³•
è¿”å›æŒ‡å®šæ•´æ•°å€¼içš„Integerå¯¹è±¡
#### reverse(int i)
åè½¬æ•´æ•°ä½æ•°ï¼Œä¾‹å¦‚12345ï¼Œè¿”å›54321

***************************
## Iterableæ¥å£
Iterableæ¥å£ä¸‹åªå®šä¹‰äº†ä¸€ä¸ªè¿­ä»£å™¨iterator()ï¼Œå…·å¤‡å¾ªç¯éå†åŠŸèƒ½ã€‚
![](https://raw.githubusercontent.com/rockyshen/blog-img/master/%E6%88%AA%E5%B1%8F2024-02-01%2022.06.27.png)

```
//è¿­ä»£å™¨çš„éå†ç»“æ„

Set keySet = map.keySet();
Iterator iterrator = keySet.iterator();
while (iterator.hasNext()) {
	System.out.println(iterator.next());
}
```

^5ce23f

### æ¥å£è§„çº¦æ–¹æ³• -> iterator()
é€šè¿‡è§‚å¯Ÿiteratorè¿­ä»£å™¨çš„åº•å±‚å®ç°ï¼Œå…¶å®ä½¿ç”¨çš„æ˜¯é“¾è¡¨å’ŒæŒ‡é’ˆï¼

å¯ä»¥ç®€åŒ–ä¸ºfor each 
```
var list = new GenericList<String>;    // GenericListå®ç°äº†Iterableæ¥å£
for (var item : list) {
	System.out.println(item);
}

```

å®ç°Iteratoræ¥å£ï¼Œè¦é‡å†™ï¼š hasNext()  next()è¿™ä¸‰ä¸ªæ–¹æ³•ï¼

è¿”å›ä¸€ä¸ªè¿­ä»£å™¨å¦‚ä½•ä½¿ç”¨ï¼Ÿ


## Comparable`<T>`æ¥å£
è‡ªç„¶æ’åºï¼Œæ¯”è¾ƒå™¨
åŸºæœ¬æ•°æ®ç±»å‹ï¼Œç›´æ¥ç”¨[[Java_01_åŸºç¡€#æ¯”è¾ƒè¿ç®—ç¬¦]]å³å¯ï¼ä½†æ˜¯ï¼Œä½ è€ƒè™‘è¿‡å¼•ç”¨æ•°æ®ç±»å‹çš„æ„Ÿå—å—ï¼Ÿå®ƒä»¬ä¹Ÿæƒ³è¦äº’ç›¸æ¯”è¾ƒï¼Œä¸èƒ½ç”¨æ¯”è¾ƒè¿ç®—ç¬¦ï¼Œéœ€è¦è‡ªå®šä¹‰æ¯”è¾ƒè§„åˆ™ï¼Œå°±éœ€è¦åœ¨æ­¤æ¥å£ä¸­å®ç°è‡ªå®šä¹‰é€»è¾‘ã€‚

è”æƒ³åˆ°ï¼š[[#Comparator`<T>`æ¥å£]] å¯ä»¥çœ‹ä½œï¼šå®šåˆ¶æ’åºï¼Œç‹¬ç«‹æ¯”è¾ƒå™¨
æ³›å‹ç±»ï¼Œä¸€èˆ¬éƒ½è¦å®ç°å¯¹æ¯”çš„é€»è¾‘ï¼

| User implements Comparable`<User>` | XxxComparator implements Comparator`<Customer>` |
| ---------------------------------- | ----------------------------------------------- |
| è‡ªç„¶æ’åº                               | å®šåˆ¶æ’åº                                            |
| å•ä¸€çš„ï¼Œå”¯ä¸€çš„                            | çµæ´»çš„ã€å¤šæ ·çš„                                         |
| ä¸€åŠ³æ°¸é€¸                               | ä¸´æ—¶çš„                                             |
| æŠ½è±¡æ–¹æ³•[[#æ¥å£è§„çº¦æ–¹æ³• -> compareTo(T o)]]  | æŠ½è±¡æ–¹æ³•[[#compare(T o1, T o2)]]                    |
| åŸºäºå®ä½“ç±»å»å®ç°æ¥å£                         | åŸºäºæ¯”è¾ƒå™¨ç±»å»å®ç°æ¥å£                                     |
| å†™åœ¨å®ä½“ç±»å†…éƒ¨@override                   | å•ç‹¬å†™ä¸€ä¸ªæ¯”è¾ƒå™¨ç±»ï¼Œ<br>ç„¶åæŠŠä¸¤ä¸ªå¯¹è±¡ä¼ åˆ°æ¯”è¾ƒå™¨å®ä¾‹ä¸­                   |
|                                    | å¯ä»¥æŠŠæ¯”è¾ƒå™¨å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œä¼ é€’ä¸ªsort(æ¯”è¾ƒå™¨)                       |

è§„åˆ™ï¼š
- å¦‚æœè¿”å›å€¼æ˜¯æ­£æ•°ï¼Œå½“å‰å¯¹è±¡å¤§
- å¦‚æœè¿”å›å€¼æ˜¯è´Ÿæ•°ï¼Œå½“å‰å¯¹è±¡å°
- å¦‚æœè¿”å›0ï¼Œä¸€æ ·å¤§ï¼›

ç¤ºä¾‹ä»£ç ï¼ŒåŸºäºUserç±»implements Comparableæ¥å£ã€‚
å¯ä»¥å®ç°ä¸ºæ¯”è¾ƒä»–ä»¬çš„åå­—æ˜¯å¦ç›¸ç­‰ï¼Œæˆ–è€…ç”Ÿæ—¥æ˜¯å¦ç›¸ç­‰ï¼Œå®Œå…¨å–å†³äºä½ çš„é€»è¾‘ã€‚
```
æ‰‹å†™Userç±»çš„æ¯”è¾ƒé€»è¾‘ï¼ŒåŸºäºUserçš„Field:pointsæ¥æ¯”è¾ƒ

public class User implements Comparable<User> {  
    // Field
    private int points;  
	// å…¨å‚æ„é€ å™¨
    public User(int points) {  
        this.points = points;  
    }  
  
    @Override  
    public int compareTo(User o) {  
		if (this.points == o.points){     // ä¸€æ ·å¤§
            return 0;  		
		}
        elif (this.points < o.points){    // æœ¬ç±»çš„å½“å‰å®ä¾‹å°
            return -1;
        }  
        return 1;                        // æœ¬ç±»çš„å½“å‰å®ä¾‹å¤§
    }  
}
```

### æ¥å£è§„çº¦æ–¹æ³• -> compareTo(T o)
Comparableæ¥å£çš„æŠ½è±¡æ–¹æ³•ï¼Œå®šä¹‰åŒä¸€ä¸ªç±»ä¹‹é—´ä¸åŒå®ä¾‹çš„æ¯”è¾ƒé€»è¾‘ã€‚
å®ç°åœ¨ç±»çš„å†…éƒ¨ï¼Œä½¿å¾—ç±»å…·å¤‡å¯æ¯”è¾ƒæ€§ï¼

**è¿”å›å€¼ï¼šIntegerç±»å‹çš„ï¼š0ã€1ã€-1**

x.compareTo (y )
	xå°äºyï¼Œè¿”å›-1
	xç­‰äºyï¼Œè¿”å›0
	xå¤§äºyï¼Œè¿”å›1 ^181b03
```
public class Student implements Comparable<Student> {
	//Field
	private String name;
	private int age;

	@override
	public int compareTo(Student other) {
		return this.age - other.age;
	}
}
```

**Qï¼šComparableæ¥å£ å’Œ Comparatoræ¥å£æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ**
-  Comparableæ¥å£ï¼Œæ›´é€šç”¨ï¼Œåœ¨ç±»å†…éƒ¨å®šä¹‰äº†å¯¹è±¡è‡ªèº«çš„æ¯”è¾ƒè§„åˆ™ï¼ˆåœ¨ç±»å†…éƒ¨é€šè¿‡@overrideé‡å†™compareToå®ç°ï¼‰ã€‚ä¸€ä¸ªç±»å®ç°Comparableæ¥å£ï¼Œå¿…é¡»è¦@overrideé‡å†™compareToæ–¹æ³•ã€‚
- Comparatoræ¥å£ï¼Œæ˜¯ä¸€ä¸ªå¤–éƒ¨æ¯”è¾ƒå™¨æ¥å£ï¼Œå¯ä»¥æ¯”è¾ƒä¸åŒå¯¹è±¡ä¹‹é—´çš„é¡ºåºã€‚å®šåˆ¶æ¯”è¾ƒé€»è¾‘ï¼Œè‡ªå®šä¹‰åŠŸèƒ½æ›´å¼ºï¼ä½†æ˜¯éœ€è¦ä¸€ä¸ªç‹¬ç«‹çš„æ¯”è¾ƒå™¨ç±»æ¥å®ç°ï¼ˆå¤–éƒ¨æ¯”è¾ƒå™¨ï¼‰ã€‚å¯ä»¥ä¼ å…¥ä¸¤ä¸ªä¸åŒç±»çš„å¯¹è±¡ï¼Œ@overrideé‡å†™compareæ–¹æ³•æ¥å®šåˆ¶è§„åˆ™
- é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ç»Ÿä¸€é€šè¿‡å®ç°Comparatoræ¥å£æ¥åˆ›å»ºä¸€ä¸ªæ¯”è¾ƒå™¨ç±»ï¼Œå®ä¾‹åŒ–çš„å¯¹è±¡å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™ä¸€äº›æ’åºæ–¹æ³•ï¼šå¦‚[[#Arrays.sort()]]æˆ–[[#Collections.sort()]]ï¼Œè¦†ç›–é»˜è®¤çš„æ’åºè§„åˆ™ï¼Œæä¾›è‡ªå®šä¹‰æ’åºè§„åˆ™ï¼Œçœ‹ä¾‹å­ï¼š ^f9a46e


## Threadç±»
é€šè¿‡ç»§æ‰¿Threadç±»çš„æ–¹å¼ï¼Œåˆ›å»ºçº¿ç¨‹ï¼š![[Java_03_é«˜çº§ç‰¹æ€§#^874c89]]![[Java_03_é«˜çº§ç‰¹æ€§#^b08324]]![[Java_03_é«˜çº§ç‰¹æ€§#^ef90e2]]
### å¸¸ç”¨æ–¹æ³•
[[Java_03_é«˜çº§ç‰¹æ€§#Threadç±»çš„å¸¸ç”¨æ–¹æ³•]]
#### start()
å¯åŠ¨çº¿ç¨‹ï¼Œå¹¶æ‰§è¡Œçº¿ç¨‹çš„run()æ–¹æ³•
#### run()
çº¿ç¨‹çš„æ‰§è¡Œä½“ï¼Œé€šè¿‡å®ç°Runnableæ¥å£ï¼Œé‡å†™çš„run()æ–¹æ³•
#### sleep(long millis)
è®©å½“å‰çº¿ç¨‹ä¼‘çœ æŒ‡å®šæ¯«ç§’æ•°
#### void interrupt()
å¤„äºæ­£å¸¸çŠ¶æ€çš„çº¿ç¨‹ï¼Œå°†ä¸­æ–­çŠ¶æ€æ ‡è¯†ä½è®¾ç½®ä¸ºtrueï¼›åç»­éœ€è¦ç¨‹åºå‘˜æ‰‹åŠ¨å¤„ç†ï¼
	1ã€åªæ˜¯å°†ä¸­æ–­çŠ¶æ€è®¾ç½®ä¸ºtrueï¼Œ==ä¸ä¼šç»ˆæ­¢çº¿ç¨‹==ï¼ˆçº¿ç¨‹çš„å‘½è¿åº”è¯¥æŒæ¡åœ¨è‡ªå·±æ‰‹ä¸­ï¼Œä¸åº”è¯¥è¢«åˆ«çš„çº¿ç¨‹åœæ­¢æ‰ï¼‰ã€‚
	2ã€å“åº”ä¸­æ–­ï¼šçº¿ç¨‹å†…éƒ¨æ”¶åˆ°å¤–éƒ¨è®¾ç½®çš„è¿™ä¸ªä¸­æ–­çŠ¶æ€åï¼Œéœ€è¦è‡ªå·±å¤„ç†ä¸­æ–­é€»è¾‘ï¼

~~stop()ç»ˆæ­¢çº¿ç¨‹ï¼Œå¤ªè¿‡äºæš´åŠ›ï¼å·²è¢«åºŸå¼ƒ~~
interupted()ä¸­æ–­çº¿ç¨‹ï¼Œæ›´åŠ æŸ”å’Œï¼Œè¿è¡ŒJVMæ‰§è¡ŒGCç­‰ï¼

é‚£å¦‚ä½•ä¸­æ–­å‘¢ï¼Ÿé…åˆisInterrupted()æ–¹æ³•ï¼Œä¸­æ–­åå•†æœºåˆ¶çš„ç¤ºä¾‹ä»£ç 
```
/**  
 * V3 : é€šè¿‡interruptAPIï¼Œå®ç°çº¿ç¨‹ä¸­æ–­  
 */  
public static void m3_InterruptAPI(){  
    Thread t1 = new Thread(() -> {  
        //çº¿ç¨‹éœ€è¦æ‰§è¡Œçš„é€»è¾‘  
        while (true) {  
            if (Thread.currentThread().isInterrupted()) {  
                System.out.println(Thread.currentThread().getName() + "\t isInterruptedçš„å€¼è¢«ä¿®æ”¹ä¸ºtrueï¼Œç¨‹åºåœæ­¢");  
                break;  
            }  
            System.out.println("---hello interruptAPI");  
        }  
    }, "t1");  
    t1.start();  
  
    try {TimeUnit.MILLISECONDS.sleep(50);} catch (InterruptedException e) {throw new RuntimeException(e);}  
  
    new Thread(()->{  
        //çº¿ç¨‹éœ€è¦æ‰§è¡Œçš„é€»è¾‘  
        // å‘èµ·åå•†ï¼Œè¦æ±‚t1ä¸­æ–­çš„åå•†  
        t1.interrupt();  
    },"t2").start();  
}
```
#### boolean isInterrupted()
åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦è¢«ç»ˆç«¯ï¼Œè¿”å›true or false

Qï¼šinterrupt() å’Œ interrupted() æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ #Javaå…«è‚¡/JUC 
Aï¼šinterrupt()æ˜¯å°†ä¸­æ–­çŠ¶æ€è®¾ä¸ºtrueï¼›interruptted()æ˜¯æ£€æŸ¥æ˜¯å¦ä¸­æ–­çŠ¶æ€ï¼Œå¹¶æ¸…é™¤æ‰ä¸­æ–­çŠ¶æ€ï¼
#### static boolean interrupted()
==**é™æ€æ–¹æ³•**==ï¼Œåšäº†ä¸¤ä»¶äº‹ï¼š1ã€è¿”å›å½“å‰ä¸­æ–­æ ‡è¯†ä½çš„å€¼true or false ï¼Œ2ã€å¦‚æœæ˜¯trueï¼Œ==å¹¶æ¸…é™¤ä¸­æ–­çŠ¶æ€==

#### çº¿ç¨‹ä¸­æ–­æœºåˆ¶
1ã€ä¸€ä¸ªçº¿ç¨‹ä¸åº”è¯¥ç”±å…¶ä»–çº¿ç¨‹ä¸­æ–­æˆ–åœæ­¢ï¼Œåº”è¯¥ç”±è‡ªå·±è‡ªè¡Œåœæ­¢ï¼ˆå‘½è¿æŒæ¡åœ¨è‡ªå·±æ‰‹ä¸Šï¼‰
2ã€åœ¨Javaä¸­æ²¡æœ‰åŠæ³•ç«‹å³åœæ­¢ä¸€æ¡çº¿ç¨‹ï¼Œæœ‰æ—¶å€™ä¸€ä¸ªè€—æ—¶æ“ä½œå¿…é¡»è¦åœæ‰ï¼ŒJavaæå‡ºäº†ä¸€ç§ä¸­æ–­æ ‡è¯†åå•†æœºåˆ¶ï¼

ä¸­æ–­åªæ˜¯ä¸€ç§åå•†æœºåˆ¶ã€‚è‹¥è¦ä¸­æ–­ä¸€ä¸ªçº¿ç¨‹ï¼Œéœ€è¦æ‰‹åŠ¨è°ƒç”¨çº¿ç¨‹çš„interrupt()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¹Ÿåªæ˜¯å°†çº¿ç¨‹å¯¹è±¡çš„ä¸­æ–­æ ‡è¯†è®¾ç½®ä¸ºtrueï¼æ¥ä¸‹æ¥ä½ éœ€è¦è‡ªå·±åœ¨çº¿ç¨‹çš„ä»£ç ä¸­æ£€æµ‹å¹¶åˆ¤æ–­ä¸­æ–­æ ‡è¯†ä½ï¼Œå¦‚æœä¸ºtrueï¼Œè¡¨ç¤ºåˆ«çš„çº¿ç¨‹è¯·æ±‚ä½ è¿™ä¸ªçº¿ç¨‹ä¸­æ–­ã€‚æ­¤æ—¶ç©¶ç«Ÿæ€ä¹ˆåšï¼Œéœ€è¦ç¨‹åºå‘˜è‡ªå·±å†™ä»£ç å®ç°ï¼

å…·ä½“å®ç°åœæ­¢ä¸­æ–­è¿è¡Œä¸­çš„çº¿ç¨‹ï¼šè¯¦è§juc-part/interrupt/InterruptDemoä¸­æœ‰ç¤ºä¾‹ï¼
1ã€é€šè¿‡[[Java_03_é«˜çº§ç‰¹æ€§#volatileå…³é”®å­—]]å˜é‡
2ã€é€šè¿‡AtomicBoolean
3ã€é€šè¿‡Threadç±»è‡ªå¸¦çš„ä¸­æ–­APIå®ä¾‹æ–¹æ³• ^eccb16

å¦‚æœt1çº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€ï¼ˆä¾‹å¦‚sleepã€waitã€joinç­‰çŠ¶æ€ï¼‰ï¼Œåœ¨t2çº¿ç¨‹ä¸­è°ƒç”¨t1.interrupt()å°è¯•ç»™ä¸€ä¸ªè¢«é˜»å¡çš„çº¿ç¨‹è®¾ç½®ä¸­æ–­ï¼Œé‚£ä¹ˆè¿™ä¸ªé˜»å¡çš„çº¿ç¨‹ä¼šç«‹åˆ»é€€å‡ºé˜»å¡çŠ¶æ€ï¼Œå¹¶æŠ›å‡ºInterruptExceptionå¼‚å¸¸ï¼ ^619a87

#### join()
ç­‰å¾…çº¿ç¨‹ç»ˆæ­¢

#### notify() -> @Override Objectç±»
å”¤é†’è¢«é˜»å¡çš„ï¼ˆä¾‹å¦‚æ‰§è¡Œäº†wait()æ–¹æ³•çš„çº¿ç¨‹ï¼‰çº¿ç¨‹

1ã€ä½¿ç”¨wait()å’Œnotify()å¿…é¡»åŒ…åœ¨é”å—ä¹‹é—´ï¼Œå¦åˆ™æŠ¥é”™ ï¼
2ã€wait()å¿…é¡»å‰ï¼Œnotify()å¿…é¡»åœ¨åï¼Œå¦åˆ™waitæŒç»­åœ¨é‚£è¾¹ï¼Œå¡ä½ï¼ ^06143b
#### wait() -> @Overried Objectç±»
ä½¿å½“å‰çº¿ç¨‹é˜»å¡ï¼ˆå¹¶ä¸”é‡Šæ”¾é”ï¼‰ï¼Œsleepæ˜¯æŠ±ç€é”ç¡è§‰ï¼ˆä¸ä¼šé‡Šæ”¾é”ï¼‰

#### çº¿ç¨‹ç­‰å¾…å”¤é†’æœºåˆ¶
æœ‰3ç§è®©çº¿ç¨‹ç­‰å¾…å’Œå”¤é†’çš„æ–¹æ³•
1ã€ä½¿ç”¨Objectç±»ç§çš„æ–¹æ³•[[#wait() -> @Overried Objectç±»]]è®©çº¿ç¨‹ç­‰å¾…ï¼Œä½¿ç”¨[[#notify() -> @Override Objectç±»]]å”¤é†’çº¿ç¨‹
2ã€ä½¿ç”¨[[JUC#Conditionæ¥å£]]ç§çš„[[JUC#await()]]è®©çº¿ç¨‹ç­‰å¾…ï¼Œä½¿ç”¨[[JUC#signal()]]è®©çº¿ç¨‹å”¤é†’
3ã€ä½¿ç”¨[[JUC#LockSupportç±»]]å¯ä»¥é˜»å¡å½“å‰çº¿ç¨‹ã€å”¤é†’æŒ‡å®šè¢«é˜»å¡çš„çº¿ç¨‹ã€‚
#### getName()
è·å–çº¿ç¨‹åå­—
#### getId()
è·å–çº¿ç¨‹id
#### setName(String name)
è®¾ç½®çº¿ç¨‹åç§°
#### getPriority()
è·å–çº¿ç¨‹ä¼˜å…ˆçº§
#### setPriority(int number)
è®¾ç½®çº¿ç¨‹ä¼˜å…ˆçº§
![[Java_03_é«˜çº§ç‰¹æ€§#^a7bcad]]
#### isAlive()
æ£€æŸ¥çº¿ç¨‹æ˜¯å¦å­˜æ´»

#### Thread.currentThread()
è·å–å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹ï¼Œè¿™ä¸ªå¯¹è±¡å®ä¾‹
```
Thread.currentThread.getName();
```

## ThreadLocalç±»
[[JUC#`ThreadLocal<T>`ç±»]]

## Systemç±»
è®¿é—®ç³»ç»Ÿèµ„æºï¼Œä¸ç³»ç»Ÿè¿›è¡Œäº¤äº’çš„APIå…¥å£

### static Field
åªå±äºç±»çš„å±æ€§ï¼Œé™æ€å±æ€§ï¼
#### é™æ€å±æ€§ in
InputStreamç±»å‹çš„å¯¹è±¡
ç”¨äºä»æ§åˆ¶å°æ¥æ”¶ç”¨æˆ·è¾“å…¥çš„æ•°æ®ã€‚
é€šå¸¸ï¼Œä½¿ç”¨ System.in ç»“åˆ Scanner ç±»æ¥è¯»å–æ§åˆ¶å°è¾“å…¥çš„æ•°æ®ã€‚
##### new Scanner(System.in)
```
import java.util.Scanner;

public class InputExample {
Â  Â  public static void main(String[] args) {
Â  Â  Â  Â  Scanner scanner = new Scanner(System.in);
Â  Â  Â  Â  System.out.print("è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°ï¼š");
Â  Â  Â  Â  int num = scanner.nextInt();Â  // ä»æ§åˆ¶å°è¯»å–ä¸€ä¸ªæ•´æ•°
Â  Â  Â  Â  System.out.println("æ‚¨è¾“å…¥çš„æ•´æ•°æ˜¯ï¼š" + num);
Â  Â  Â  Â  scanner.close();
Â  Â  }
}
```

#### é™æ€å±æ€§ out
PrintStreamç±»å‹çš„å¯¹è±¡ï¼›![[Java_03_é«˜çº§ç‰¹æ€§#^cb4566]]
#####  System.out.println()
æ ‡å‡†è¾“å‡ºæµï¼ŒğŸ˜„ï¼Œæ¥è§¦Javaçš„ç¬¬ä¸€è¡Œä»£ç ï¼
```
System.out.println(data)
```

### å¸¸ç”¨æ–¹æ³•
#### System.getenv(String name)
è·å–æŒ‡å®šåç§°çš„ç¯å¢ƒå˜é‡å€¼ã€‚

#### currentTimeMillis()
å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³ï¼Œ==Longç±»å‹==ï¼Œæ¯«ç§’çº§

åº”ç”¨åœºæ™¯ï¼š
1ã€ä¸€èˆ¬ç”¨äºè®¡ç®—æ—¶é—´å·®ï¼
2ã€è®¢å•å·ï¼Œå…¨çƒå”¯ä¸€ï¼

æ—¶é—´æˆ³ï¼šè¡¨ç¤ºäº†è‡ªæ ¼æ—å¨æ²»æ ‡å‡†æ—¶é—´ 1970 å¹´ 1 æœˆ 1 æ—¥ 00:00:00 GMTï¼ˆæˆ–ç§°ä¸º UNIX æ—¶é—´æˆ³ï¼‰ä»¥æ¥çš„æ¯«ç§’æ•°ã€‚è¯¥æ—¶é—´æˆ³ä¸åŒ…å«ä¸æ—¥æœŸå’Œæ—¶åŒºç›¸å…³çš„ä¿¡æ¯ï¼Œåªè¡¨ç¤ºæ—¶é—´ç»è¿‡çš„æ¯«ç§’æ•°ã€‚ ^49ad31
```
@Test  
public void testTime(){  
    long timestamp = System.currentTimeMillis();  
    System.out.println(timestamp);  
}

>> 1720751041974   è¿™æ˜¯ä»1970å¹´1æœˆ1æ—¥ï¼Œåˆ°ä»Šå¤©2024å¹´7æœˆ12æ—¥ï¼Œè¿‡å»çš„æè¿°
```

^cb08df

å°†Longç±»å‹çš„æ—¶é—´æˆ³ï¼Œè½¬ä¸ºå­—ç¬¦ä¸²ç±»å‹
```
String.valueOf(Long timestamp)ï¼›
```

ç»“åˆ[[#valueOf()]]å°†æ—¶é—´æˆ³å˜æˆString
```
map.put("timestamp",String.valueOf(System.currentTimeMillis()/1000));  //å‚æ•°5:
```

System.currentTimeMillis()   è¿”å›çš„æ˜¯æ—¶é—´æˆ³ï¼Œæ˜¯ä¸€ä¸ªLongç±»å‹çš„æ•°å­—
java.timeåŒ…ä¸­çš„[[#LocalDateTime.now()]]ï¼Œè¿”å›çš„æ˜¯ï¼š2024-07-12T10:49:43.456244

è¡¥ï¼Œæ€»ç»“æ‰€æœ‰æ—¶é—´ç›¸å…³çš„ç±»ï¼è¡¨æ ¼

## Exceptionsç±»
åŒ…å«ç¼–è¯‘æ—¶çš„é”™è¯¯ä¿¡æ¯ï¼Œæ¯ä¸ªè¢«æŠ›å‡ºçš„å¼‚å¸¸ï¼Œéƒ½æ˜¯ä¸€ä¸ªå®ä¾‹åŒ–å¯¹è±¡ã€‚


## Mathç±»
æä¾›ä¸€ç³»åˆ—æ•°å­¦è¿ç®—æ–¹æ³•å’Œå¸¸é‡

é™æ€æ–¹æ³•ï¼Œç›´æ¥åŸºäºç±»æ¥è°ƒç”¨ï¼š
Math.round(1.1F)        å››èˆäº”å…¥
Math.ceil(1.1F)            å‘ä¸Šå–æ•´
Math.floor(1.1F)          å‘ä¸‹å–æ•´
Math.max(1, 2)            è¿”å›æœ€å¤§å€¼
Math.min(1, 2)             è¿”å›æœ€å°å€¼
Math.random()            è¿”å›0-1ä¹‹é—´éšæœºæ•°
```
int result = (int) (Math.random() * 100)   //ç”Ÿæˆ0-100éšæœºæ•´æ•°
             Math.randomç”Ÿæˆçš„æ˜¯longç±»å‹ï¼Œæ— æ³•éšå¼è½¬æ¢æˆint,éœ€è¦æ‰‹åŠ¨è½¬
```
### å¸¸é‡
Math.PI       åœ†å‘¨ç‡piçš„è¿‘ä¼¼å€¼
Math.E        è‡ªç„¶å¯¹æ•°eçš„åº•æ•°çš„è¿‘ä¼¼å€¼
### å¸¸ç”¨æ–¹æ³•
- abs()
- sqrt()
- pow(åº•æ•°ï¼ŒæŒ‡æ•°)
	- æŒ‡æ•°å¹‚ï¼Œè¿”å›doubleç±»å‹çš„ç»“æœã€‚
		æ³¨æ„ï¼šMath.pow()æ–¹æ³•çš„è¿”å›å€¼ä¸ºdoubleç±»å‹ï¼Œå³ä½¿æŒ‡æ•°æ˜¯æ•´æ•°ï¼Œç»“æœä¹Ÿå°†æ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°ã€‚å¦‚æœéœ€è¦å¾—åˆ°æ•´æ•°ç»“æœï¼Œå¯ä»¥è¿›è¡Œç±»å‹è½¬æ¢ã€‚
- max()  min()
- random()
- round()
- ceil()
- floor()

## Numberç±»
### Striped64ç±»
LongAdderæ€§èƒ½æ˜æ˜¾ä¼˜äºAtomicLongï¼Œå°±æ˜¯å› ä¸ºStriped64ç±»åœ¨åº•å±‚èµ·åˆ°ä½œç”¨ï¼

é™æ€å†…éƒ¨ç±» Cellç±»
![[Java_02_é¢å‘å¯¹è±¡#^876f5b]]

NCPUï¼šæœ¬æœºCPU 
cellsï¼šCellç±»å‹çš„æ•°ç»„ `Cell[]`
baseï¼šæ›´æ–°å€¼
cellsBusyï¼šæŸä¸ªcellæ ¼å­æ˜¯å¦å¿™ç¢Œ

[[JUC#ã€å®ç°ç±»ã€‘LongAdder]]
![](https://picgo-rockyshen.oss-cn-shanghai.aliyuncs.com/picgo/202408021055232.png)

## #.reflectåŒ…
åå°„
### Proxyç±»
JDKåŠ¨æ€ä»£ç†ç±»




# java.utilåŒ…
å·¥å…·åº“
![[#^887a3e]]

## Collectionæ¥å£
Collectionæ¥å£è·¨åŒ…ç»§æ‰¿äº†langåŒ…ä¸‹çš„[[#Iterableæ¥å£]]ï¼Œä½¿å…¶å…·å¤‡è¿­ä»£åŠŸèƒ½ã€‚åœ¨æ­¤åŸºç¡€ä¸Šæ‹“å±•äº†æ·»åŠ ã€ç§»é™¤ã€æŸ¥è¯¢å…ƒç´ ç­‰ã€‚ ^ac7f96

![](https://raw.githubusercontent.com/rockyshen/blog-img/master/Scannable%E6%96%87%E6%A1%A3%E5%88%9B%E5%BB%BA%E4%BA%8E2024%E5%B9%B44%E6%9C%885%E6%97%A5%2022_26_51.jpg)

æœ‰ä¸ªè¯¯åŒºï¼Œpythonä¸­çš„Listå…¶å®ç­‰äºJavaä¸­çš„ArrayListå®ç°ç±»ã€‚åœ¨Javaä¸­Listæ˜¯ä¸€ä¸ªæ¥å£ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨çš„ã€‚è¦ç”¨çš„éƒ½æ˜¯ArrayListä»¥åŠArraysç±»æä¾›çš„å„ç§æ–¹æ³•ï¼

### [[Java_03_é«˜çº§ç‰¹æ€§#Listæ¥å£]]
çº¦å®šï¼šæœ‰åºçš„é›†åˆã€å…è®¸é‡å¤å…ƒç´ ã€å¯ä»¥æ ¹æ®ç´¢å¼•è®¿é—®å…ƒç´ 

#### [[Java_03_é«˜çº§ç‰¹æ€§#ã€å®ç°ç±»ã€‘ArrayListç±»]]
[[æ•°æ®ç»“æ„-æ•°ç»„]]

[[#Arraysç±»]]
![[Java_01_åŸºç¡€#^74d716]]

#### [[Java_03_é«˜çº§ç‰¹æ€§#ã€å®ç°ç±»ã€‘LinkedListç±»]]
[[æ•°æ®ç»“æ„-é“¾è¡¨]]

### [[Java_03_é«˜çº§ç‰¹æ€§#Setæ¥å£]]

#### [[Java_03_é«˜çº§ç‰¹æ€§#ã€å®ç°ç±»ã€‘HashSetç±»]]

### [[Java_03_é«˜çº§ç‰¹æ€§#Mapæ¥å£]]

#### [[Java_03_é«˜çº§ç‰¹æ€§#ã€å®ç°ç±»ã€‘HashMapç±»]]
[[æ•°æ®ç»“æ„-å“ˆå¸Œè¡¨]]

### [[Java_03_é«˜çº§ç‰¹æ€§#Queueæ¥å£]]

#### [[Java_03_é«˜çº§ç‰¹æ€§#ã€å®ç°ç±»ã€‘ArrayDequeç±»]]
[[æ•°æ®ç»“æ„_é˜Ÿåˆ—]]

#### [[Java_03_é«˜çº§ç‰¹æ€§#ã€å®ç°ç±»ã€‘PriorityQueueç±»]]


## Iteratoræ¥å£
å¯¹collectionè¿›è¡Œè¿­ä»£çš„è¿­ä»£å™¨ï¼Œå–ä»£äº†ä¹‹å‰çš„Enumeration

Qï¼šä»€ä¹ˆæ˜¯fail-fastå’Œfail-safe
Aï¼šæ˜¯å¤šçº¿ç¨‹å¹¶å‘æ“ä½œä¸­é›†åˆå¤„ç†å¤±è´¥çš„æœºåˆ¶ã€‚
fail-fastï¼Œåœ¨é›†åˆéå†è¿‡ç¨‹ä¸­ï¼Œä¸€æ—¦è¿”ç°é›†åˆä¸­æ•°æ®è¢«ä¿®æ”¹ï¼Œç«‹åˆ»æŠ›å‡ºConcurrentModificationExceptionï¼Œå¯¼è‡´éå†å¤±è´¥
fail-safeï¼Œåœ¨é›†åˆéå†è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå‘ç°é›†åˆä¸­æ•°æ®è¢«ä¿®æ”¹ï¼Œä¸æŠ›å‡ºå¼‚å¸¸ï¼ï¼ˆé‡‡ç”¨å‰¯æœ¬æ–¹å¼ï¼‰

### æ¥å£è§„çº¦æ–¹æ³•
#### hasNext()
å¦‚æœåé¢ä»ç„¶æœ‰å…ƒç´ ï¼Œè¿”å›true

#### next()
è¿”å›è¿­ä»£çš„ä¸‹ä¸€ä¸ªå…ƒç´ 

#### remove()
ä»è¿­ä»£å™¨æŒ‡å‘çš„collectionä¸­ç§»é™¤æœ€åä¸€ä¸ªè¿”å›çš„å…ƒç´ ã€‚

Iteratorä½¿ç”¨çš„ç¤ºä¾‹ä»£ç 
```
List<String> list = new ArrayList<>();
Iterator<String> iterator = list.iterator();

while(iterator.hasNext()) {
	String obj = iterator.next();
	sout(obj);
}
```

## Lockæ¥å£

## Callableæ¥å£
åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼ä¹‹ä¸€ï¼Œå®ç°call()æ–¹æ³•

## Executoræ¥å£
æ­¤æ¥å£å¯¹è±¡èƒ½æ‰§è¡Œæˆ‘ä»¬çš„çº¿ç¨‹ä»»åŠ¡ã€‚

## Executorsç±»


## Comparator`<T>`æ¥å£
å®šåˆ¶æ’åºï¼Œå¤–éƒ¨æ¯”è¾ƒå™¨çš„æ¥å£ã€‚
æ³¨æ„ï¼š![[Java_03_é«˜çº§ç‰¹æ€§#^e963da]]
[[#Comparable`<T>`æ¥å£]]å¯ä»¥çœ‹ä½œæ˜¯ï¼šè‡ªç„¶æ’åºï¼æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å¤§å°ã€‚
ä¸[[#Comparable`<T>`æ¥å£]]ä¸åŒçš„æ˜¯ï¼Œå®šåˆ¶æ’åºï¼Œå¯ä»¥ç‹¬ç«‹äºè¢«æ¯”è¾ƒå¯¹è±¡è¿›è¡Œæ¯”è¾ƒã€‚

![](https://picgo-rockyshen.oss-cn-shanghai.aliyuncs.com/picgo/202409151329691.png)

| User implements Comparable`<User>` | XxxComparator implements Comparator`<Customer>` |
| ---------------------------------- | ----------------------------------------------- |
| è‡ªç„¶æ’åº                               | å®šåˆ¶æ’åº                                            |
| å•ä¸€çš„ï¼Œå”¯ä¸€çš„                            | çµæ´»çš„ã€å¤šæ ·çš„                                         |
| ä¸€åŠ³æ°¸é€¸                               | ä¸´æ—¶çš„                                             |
| æŠ½è±¡æ–¹æ³•[[#æ¥å£è§„çº¦æ–¹æ³• -> compareTo(T o)]]  | æŠ½è±¡æ–¹æ³•[[#compare(T o1, T o2)]]                    |
| åŸºäºå®ä½“ç±»å»å®ç°æ¥å£                         | åŸºäºæ¯”è¾ƒå™¨ç±»å»å®ç°æ¥å£                                     |
| å†™åœ¨å®ä½“ç±»å†…éƒ¨@override                   | å•ç‹¬å†™ä¸€ä¸ªæ¯”è¾ƒå™¨ç±»ï¼Œ<br>ç„¶åæŠŠä¸¤ä¸ªå¯¹è±¡ä¼ åˆ°æ¯”è¾ƒå™¨å®ä¾‹ä¸­                   |

é€‚ç”¨åœºæ™¯ï¼šå½“æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ä¸€äº›åŸç”Ÿçš„ç±»ï¼ˆæˆ–è€…æ¡†æ¶å†…ç½®çš„ç±»ï¼‰ï¼Œæˆ‘ä¹Ÿæƒ³è®©è¿™ä¸ªç±»å…·æœ‰æ¯”è¾ƒçš„ç‰¹æ€§ï¼Œä¸å¯èƒ½å»åˆ°ç±»æ–‡ä»¶ä¸­ï¼Œç»™å®ƒåŠ ä¸Š`implement Comparable`ï¼Œæˆ‘ä¸å¯èƒ½å»ä¿®æ”¹å®ƒçš„æºä»£ç ã€‚æ­¤æ—¶å°±å¯ä»¥å†™ä¸€ä¸ªç‹¬ç«‹çš„`XxxComparator implement Comparator`ï¼Œå®šåˆ¶æ’åºè§„åˆ™ã€‚

ä¾‹å¦‚ï¼Œæˆ‘æƒ³å®ç°ä¸€ä¸ªæ¯”è¾ƒé€»è¾‘ï¼ŒåŸºäºæ•°ç»„ï¼Œå“ªä¸ªæ•°ç»„çš„å…ƒç´ å¤šï¼Œå°±è¡¨ç¤ºå“ªä¸ªæ•°ç»„å¤§ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬ä¸å¯èƒ½å»æ•°ç»„çš„æºä»£ç ä¸­å»æ”¹ï¼Œå°±å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªæ•°ç»„æ¯”è¾ƒå™¨ï¼Œè§ä¸‹ç¤ºä¾‹ï¼š
```
public class ArrayCompartor implements Comparator<int[]> {  
    /**  
     * åœ¨æœ¬è‡ªå®šä¹‰æ¯”è¾ƒå™¨ä¸­ï¼š  
     * å¦‚æœo1çš„é•¿åº¦å¤§ï¼Œé‚£ä¹ˆå°±o1å¤§ï¼›å¦‚æœo2çš„é•¿åº¦å¤§ï¼Œé‚£ä¹ˆå°±o2å¤§ï¼  
     * @param o1 the first object to be compared.  
     * @param o2 the second object to be compared.  
     * @return 1ï¼šo1å¤§äºo2  0ï¼šo1ç­‰äºo2  -1:o1å°äºo2  
     */    @Override  
    public int compare(int[] o1, int[] o2) {  
        return o1.length - o2.length;  
    }  
}
```

æœ‰äº†è¿™ä¸ªæ¯”è¾ƒå™¨ï¼Œæˆ‘ä»¬å°±èƒ½å¯¹åŒ…å«æ•°ç»„çš„æ•°ç»„è¿›è¡Œæ•´ä½“æ’åºã€‚
```
[[1,2,3], [1,2], [1,2,3,4,5]]

// newå‡ºæ¥çš„è‡ªå®šä¹‰æ¯”è¾ƒå™¨ï¼Œæ˜¯æŒ‰ç…§æ•°ç»„çš„å…ƒç´ å¤šå°‘æ¥æ¯”è¾ƒå¤§å°çš„ã€‚  
ArrayCompartor arrayCompartor = new ArrayCompartor();  

// newä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œç”¨äºæµ‹è¯•æ’åº  
int[][] arrInt4 = new int[][]{{1,2,3},{1,2},{1,2,3,4,5}};  

Arrays.sort(arrInt4,arrayCompartor);  
// æ‰“å°çœ‹ä¸€ä¸‹æ˜¯å¦æŒ‰è‡ªå®šä¹‰æ¯”è¾ƒå™¨è¿›è¡Œäº†æ’åº  

for (int[] arr : arrInt4) {  
    System.out.println(Arrays.toString(arr));  
}

è¾“å‡ºç»“æœï¼šå·²ç»æ˜¯æ’å¥½åºçš„ï¼
[1, 2]
[1, 2, 3]
[1, 2, 3, 4, 5]

```

### æ¥å£è§„çº¦æ–¹æ³•
#### compare(T o1, T o2)
åœ¨å¤–éƒ¨æ¯”è¾ƒå™¨Comparatoræ¥å£ä¸­ï¼Œå®šä¹‰çº¦å®šäº†æŠ½è±¡æ–¹æ³•compare()æ–¹æ³•
`compare(x, y)` 
xå°äºyï¼Œè¿”å›-1
xç­‰äºyï¼Œè¿”å›0
xå¤§äºyï¼Œè¿”å›1

```
public static Comparator<Student> NameComparator = new Comparator<>() {
	@override
	public int compare(Student s1, Student s2)
		return s1.name.compareTo(s1.name);
}
```

 
`comparing(Function<T>keyExtractor)`
é™æ€æ–¹æ³•ï¼ŒåŸºäºç±»è°ƒç”¨ï¼šComparator.comparing()
åˆ›å»ºä¸€ä¸ªæ¯”è¾ƒå™¨ï¼Œæ¥æ”¶ä¸€ä¸ªFunctionç±»å‹ å‡½æ•°å¼æ¥å£ çš„å‚æ•°keyExtractorï¼Œç”¨æ¥æå–å¯¹è±¡çš„æŸä¸ªå…³é”®å±æ€§å€¼ã€‚æ¯”è¾ƒå™¨ä¼šæ ¹æ®æå–åˆ°çš„å€¼è¿›è¡Œæ¯”è¾ƒã€‚è¿”å›ä¸€ä¸ªComparatorç±»çš„å¯¹è±¡å®ä¾‹ã€‚


## Arraysç±»
ä¸€ä¸ªåŒ…è£…ç±»ï¼ŒåŒ…å«å¾ˆå¤šé™æ€æ–¹æ³•ï¼Œä¸èƒ½è¢«å®ä¾‹åŒ–ï¼
æ“ä½œï¼šå¸¸è§„æ•°ç»„`[]`å’Œ åŠ¨æ€æ•°ç»„ArrayListçš„æ–¹æ³•é›†åˆï¼
#### toString()
å°†æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶è¿”å›ã€‚
```
String arrString = Arrays.toString(arr)
```
#### equals()
æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸ç­‰
```
boolean isEqual = Arrays.equals(arr1, arr2);
```
#### Arrays.sort()
å¯¹æ•°ç»„çš„å…ƒç´ è¿›è¡Œæ’åº

è”åŠ¨[[#Comparator`<T>`æ¥å£]]æä¾›çš„è‡ªå®šä¹‰æ¯”è¾ƒå™¨ï¼Œå®ç°è‡ªå®šä¹‰æ’åº
![[#^f9a46e]]

#### binarySearch()
å¯¹å·²ç»æ’åºçš„æ•°ç»„è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾

Parameters:
`a`Â - the array to be searchedï¼Œéœ€è¦è¢«æœç´¢çš„æ•°ç»„
`key`Â - the value to be searched forï¼Œè¢«æœç´¢çš„å€¼

Returns:
index of the search keyï¼Œè¿”å›indexç´¢å¼•ä½ç½®ã€‚

#### `fill(int[] a, int fromIndex, int toIndex, int val)`
æ•°ç»„çš„å¡«å……ï¼Œä»fromINDEX åˆ° toIndex

fill(T`[]` a, T val)   å°†valå€¼å¡«æ»¡aæ•°ç»„

#### copyOf(T`[]` original, int newLength)
å¤åˆ¶æŒ‡å®šé•¿åº¦çš„æ•°ç»„
#### Arrays.asList()
1ã€å°†`åŸºæœ¬æ•°ç»„[]`è½¬æ¢ä¸ºList
2ã€ã€æœ€æ–¹ä¾¿ã€‘å‡å¦‚ä½ çŸ¥é“è¦å¾€åˆ—è¡¨ä¸­æ”¾ä»€ä¹ˆå…ƒç´ ï¼Œå¯ä»¥ç”¨Arrays.asList()ç›´æ¥æ”¾ï¼Œä½†æ˜¯ä¸å¯å˜çš„å›ºå®šå¤§å°Listï¼

æ³¨æ„ï¼šæ•°ç»„(Array) è½¬ åˆ—è¡¨(ArrayList)ï¼šä½¿ç”¨Arrays.asList(array)è¿›è¡Œè½¬æ¢ã€‚ä½†æ˜¯ä¸æ¨èå“¦ï¼å› ä¸ºArrays.asList æ–¹æ³•åˆ›å»ºçš„ List æ˜¯ä¸€ä¸ª==ä¸å¯å˜çš„å›ºå®šå¤§å°==çš„ Listï¼Œä¸æ”¯æŒåç»­çš„æ·»åŠ ã€åˆ é™¤æˆ–ä¿®æ”¹æ“ä½œã€‚ä»»ä½•å°è¯•ä¿®æ”¹è¿™ä¸ª List çš„æ“ä½œéƒ½ä¼šå¯¼è‡´ UnsupportedOperationException å¼‚å¸¸ã€‚æ— æ³•ä½¿ç”¨addã€removeæ–¹æ³• ^c3031a

```
// array to list
String[] array = new String[] {
	"ç‹ç£Š","çš„è¯—æƒ…ç”»æ„"
};
Arrays.asList(array)
```

asList(e1, e2,â€¦)
å°†ä¼ é€’çš„å¤šä¸ªå‚æ•°åˆå¹¶æˆä¸€ä¸ªArrayList

#### stream()
å°†ä¸€ä¸ª[]æ•°ç»„ï¼Œå…ˆè½¬æˆArrayç±»ï¼Œç„¶åè°ƒç”¨stream  [[Java_03_é«˜çº§ç‰¹æ€§#åˆ›å»ºStream]]

## Collectionsç±»
ä¸€ä¸ªåŒ…è£…ç±»ï¼ŒåŒ…å«å¾ˆå¤šé™æ€æ–¹æ³•ï¼Œä¸èƒ½è¢«å®ä¾‹åŒ–ï¼
æ“ä½œCollectionçš„æ–¹æ³•é›†åˆ
### å¸¸ç”¨æ–¹æ³•
#### Collections.sort()
å¯¹é›†åˆè¿›è¡Œæ’åº

éœ€æ±‚ï¼šä¸¤ä¸ªlistï¼Œé‡Œé¢çš„å­—ç¬¦ä¸²ç›¸åŒå°±ç®—ç›¸åŒï¼Œä¸å…³å¿ƒé¡ºåºï¼Œåº”è¯¥æ€ä¹ˆå†™ï¼Ÿ
æ€è·¯ï¼šåˆ©ç”¨Collections.sort(list)ï¼Œè¿›è¡Œä¸€ä¸‹æ’åºï¼Œä¸¤ä¸ªåˆ—è¡¨éƒ½æ’ä¸€ä¸‹åºï¼Œæœ€åå°±æ˜¯ä¸€æ ·çš„é¡ºåºäº†ï¼Œå°±èƒ½ç”¨equalsæ¥åˆ¤æ–­äº†ï¼
```
List<String> attrList1 = this.getAttrList();  
List<String> attrList2 = otherGoods.getAttrList();  

Collections.sort(attrList1);  
Collections.sort(attrList2);

attrList1.equals(attrList2)
```

è”åŠ¨[[#Comparator`<T>`æ¥å£]]æä¾›çš„è‡ªå®šä¹‰æ¯”è¾ƒå™¨ï¼Œå®ç°è‡ªå®šä¹‰æ’åº
![[#^f9a46e]]

#### binarySearch()
å¯¹å·²æ’å¥½åºçš„é›†åˆè¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾

#### `synchronizedList(List<T>Â list)`
åˆ©ç”¨Collectionsç±»æä¾›çš„ï¼Œçº¿ç¨‹å®‰å…¨æ–¹æ³•ï¼
```
List<String> list = Collections.synchronizedList(new ArrayList<>());
```

## Scannerç±»
ä»ç”¨æˆ·çš„è¾“å…¥ä¸­è·å–æ•°æ®
[[Java_03_é«˜çº§ç‰¹æ€§#æ ‡å‡†è¾“å…¥è¾“å‡ºæµ]]
### å¸¸ç”¨æ–¹æ³•
- next( )
ä»è¾“å…¥ä¸­è¯»å–ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶è¿”å›ã€‚é‡åˆ°ç©ºç™½å­—ç¬¦å°±ç»“æŸã€‚

- nextInt()
ä»è¾“å…¥ä¸­è¯»å–ä¸€ä¸ªæ•´æ•°ï¼Œå¹¶å°†å…¶è¿”å›ã€‚
æ³¨æ„ï¼Œåªä¼šè¯»ä¸€ä¸ªæ•´æ•°ï¼Œéœ€è¦è¯»å¤šä¸ªæ•´æ•°ï¼Œéœ€è¦ä½¿ç”¨å¾ªç¯æ¥é‡å¤è°ƒç”¨æ­¤æ–¹æ³•ï¼

- nextLine()
ä»è¾“å…¥ä¸­è¯»å–ä¸€è¡Œå­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶è¿”å›ï¼Œé‡åˆ°ç©ºç™½ç¬¦ä¸ä¼šç»“æŸ

è¡¥å……Collectionæ¥å£åŠå®ç°çš„å›¾ï¼š

## Ramdonç±»
ç”Ÿæˆéšæœºæ•°çš„å·¥å…·ç±»

### å¸¸ç”¨æ–¹æ³•
#### setSeed()
ç»™éšæœºæ•°ç”Ÿæˆå™¨ï¼ŒåŠ å…¥ä¸€ç‚¹éšæœºæ€§å› å­ï¼Œä¸€é¢—ç§å­ï¼ˆå¯é€‰ï¼‰

#### nextInt(int bound)
è¿”å›0-boundè¾¹ç•Œçš„ä¸€ä¸ªéšæœºæ•°ï¼ŒåŒ…å«0ï¼Œä½†ä¸åŒ…å«è¾¹ç•Œ


ç”Ÿæˆä¸€å®šèŒƒå›´éšæœºæ•°çš„å¥½ä¾‹å­ï¼š
```
/**  
 * åˆ©ç”¨å½“å‰ç³»ç»Ÿæ—¶é—´çš„æ—¶é—´æˆ³ä½œä¸ºéšæœºæ•°ç§å­ï¼Œè¿™æ ·ä¿è¯éšæœºä¸‹  
 * æœ€åç”Ÿæˆä¸€ä¸ª0-10000ä¹‹é—´éšæœºæ•°  
 */  
public class UtilTools {  
    public static int getRandom(int maxValue) {  
        Random random = new Random();  
        //è®¾ç½®éšæœºæ•°ç§å­  
        random.setSeed(System.currentTimeMillis());  
        return random.nextInt(maxValue);  
    }
```

## ã€å¼ƒç”¨ã€‘~~Dateç±»~~
æœ€åŸºæœ¬çš„æ—¥æœŸå’Œæ—¶é—´ç±»ï¼Œå·²ç»è¿‡æ—¶ï¼Œæ¨èä½¿ç”¨[[#java.timeåŒ…]]

java.util.Dateç±»
java.sq.Dateç±»ï¼Œä¸¤ä¸ªæ³¨æ„åŒºåˆ†ï¼ŒsqlåŒ…ä¸‹çš„Dataç±»æ˜¯utilåŒ…ä¸‹Dateç±»çš„å­ç±»ã€‚

### ä¸¤ä¸ªæ„é€ å™¨

#### new Date()
ç©ºå‚æ„é€ æ–¹æ³•ï¼Œè¿”å›å½“å‰æ—¶é—´
#### new Date(long timeMillis)
åŸºäºæŒ‡å®šæ—¶é—´æˆ³çš„Dateå®ä¾‹

### ä¸¤ä¸ªå¸¸ç”¨æ–¹æ³•
#### toString()
å°†å½“å‰ç³»ç»Ÿæ—¶é—´ï¼Œç”¨ä¾¿äºäººç±»é˜…è¯»çš„æ–¹å¼æ‰“å°å‡ºæ¥
```
Date date1 = new Date();

sout(date1.toString());

è¾“å‡ºï¼šMon Dec 05 11:56:26 CST 2022
```
æ³¨æ„java.sql.Dateç±»çš„toStringï¼Œæ‰“å°å‡ºæ¥çš„æ˜¯ï¼š2022-12-05ã€‚æ˜¯ä¸åŒçš„

#### getTime()
è¿”å›æ¯«ç§’æ•°
```
long milliTimes = date1.getTime();

>> 1670212256045
```
è”æƒ³åˆ°ï¼šSystemç±»ä¸‹çš„ï¼š[[#currentTimeMillis()]]æ–¹æ³•

## ã€å¼ƒç”¨ã€‘~~Calendarç±»~~
æ³¨æ„ï¼šCalendarç±»æ˜¯æŠ½è±¡ç±»ï¼Œjava.util.Dateç±»ä¸­å¤§éƒ¨åˆ†è¢«å¼ƒç”¨ï¼Œæ›¿æ¢ä¸ºCalendarç±»ã€‚
å®é™…æ“ä½œçš„æ˜¯ï¼šGregorianCalendarç±»

è·å–Calendarå®ä¾‹çš„æ–¹æ³•  [[è®¾è®¡æ¨¡å¼#Singleton å•ä¾‹æ¨¡å¼]]
### å®ä¾‹åŒ–
å•ä¾‹æ¨¡å¼ä¸‹ï¼Œåˆ©ç”¨é™æ€æ–¹æ³•getInstance()è·å–å®ä¾‹ï¼Œå¸¸è§„æ„é€ æ–¹æ³•è¢«è®¾ç½®ä¸ºprivate  [[è®¾è®¡æ¨¡å¼#é¥¿æ±‰å¼æ­¥éª¤]]
å¤ä¹ ä¸€ä¸‹é¥¿æ±‰å¼çš„ä»£ç 
```
class MySingleton {
	// ç§æœ‰åŒ–æ„é€ å™¨
	private MySingleton(){};

	// ç§æœ‰åŒ–Fieldï¼Œåœ¨ä¸Šé¢åˆå§‹åŒ–
	private static MySingleton instance = new MySingleton();

	// å…¬å¼€è·å–å®ä¾‹çš„æ–¹æ³•
	public static getInstance(){
		return instance;
	}
}
```

åœ¨ç”µè„‘ç³»ç»Ÿä¸­ï¼Œåªéœ€è¦ä¸€ä»½Calendarå®ä¾‹å°±è¡Œäº†ï¼Œæ²¡å¿…è¦newå¤šä»½ï¼å•ä¾‹æ¨¡å¼æ˜¯é€‚åˆçš„ï¼
å®ä¾‹åŒ–ï¼Œå®ä¾‹ä»£ç  ^03706e
```
Calendar calendar = Calendar.getInstance();

// ç”±äºCalendarç±»æ˜¯æŠ½è±¡ç±»ï¼Œæ‰€ä»¥å®è´¨ä¸Šè¿™ä¸ªç±»æ˜¯GregorianCalendarç±»ï¼›
```
### å¸¸ç”¨æ–¹æ³•
#### static getInstance()

#### get(int field)
Calendar.DAY_OF_MONTH   è¿™ä¸ªæœˆçš„ç¬¬å‡ å¤©
#### set(int field, int value)

#### add(int field, xx)
åœ¨ç°æœ‰çš„å¤©çš„åŸºç¡€ä¸Šï¼Œç´¯åŠ ï¼


## java.util.loggingåŒ…
åŸºäº [[#ã€æ—¥å¿—é—¨é¢ã€‘commons.loggingåŒ…]]çš„å®ç°ï¼

JavaåŸç”Ÿçš„æ—¥å¿—è®°å½•å®ç°ç±»ï¼Œæ—¥å¿—æ˜¯ä¸ºäº†æ›¿ä»£[[#System.out.println()]]ï¼Œå¯ä»¥å®šä¹‰æ ¼å¼ï¼Œé‡å®šå‘åˆ°æ–‡ä»¶ã€‚

ç¤ºä¾‹
```
import java.util.logging.Level;
import java.util.logging.Logger;

public class Hello {
    public static void main(String[] args) {
        Logger logger = Logger.getGlobal();
        logger.info("start process...");
        logger.warning("memory is running out...");
        logger.fine("ignored.");
        logger.severe("process will be terminated...");
    }
}

è¾“å‡º
# å¯ä»¥çœ‹å‡ºï¼šå®ƒè‡ªåŠ¨æ‰“å°äº†æ—¶é—´ã€è°ƒç”¨ç±»ã€è°ƒç”¨æ–¹æ³•ç­‰å¾ˆå¤šæœ‰ç”¨çš„ä¿¡æ¯
Mar 02, 2019 6:32:13 PM Hello main
INFO: start process...

Mar 02, 2019 6:32:13 PM Hello main
WARNING: memory is running out...

Mar 02, 2019 6:32:13 PM Hello main
SEVERE: process will be terminated...

```

JDKçš„Loggingå®šä¹‰äº†7ä¸ªæ—¥å¿—çº§åˆ«ï¼Œä»ä¸¥é‡åˆ°æ™®é€šï¼š
- SEVERE
- WARNING
- INFO  ï¼ˆé»˜è®¤INFOï¼ŒINFOçº§åˆ«ä»¥ä¸‹çš„æ—¥å¿—ï¼Œä¸ä¼šè¢«æ‰“å°å‡ºæ¥ï¼‰
- CONFIG
- FINE
- FINER
- FINEST

Loggingæ—¥å¿—ï¼Œå­˜åœ¨è¯¸å¤šç¼ºé™·ï¼š
1ã€åœ¨JVMå¯åŠ¨æ—¶è¯»å–é…ç½®æ–‡ä»¶å¹¶å®Œæˆåˆå§‹åŒ–ï¼Œä¸€æ—¦å¼€å§‹è¿è¡Œ`main()`æ–¹æ³•ï¼Œå°±æ— æ³•ä¿®æ”¹é…ç½®ï¼›
2ã€é…ç½®ä¸å¤ªæ–¹ä¾¿ï¼Œéœ€è¦åœ¨JVMå¯åŠ¨æ—¶ä¼ é€’å‚æ•°`-Djava.util.logging.config.file=<config-file-name>`ã€‚
æ•…è€Œï¼Œè¿™ä¸ªç±»åŸºæœ¬ä¸ä¼šç”¨çš„ï¼

# java.netåŒ…
## httpåŒ…
### HttpClientç±»
java.net.http.HttpClient
Java 11å¼•å…¥çš„æ–°çš„æ ‡å‡†HTTPå®¢æˆ·ç«¯åº“ï¼Œæä¾›äº†æ›´ç°ä»£åŒ–çš„æ–¹å¼æ¥å¤„ç†HTTPè¯·æ±‚ã€‚HttpClientæ”¯æŒå¼‚æ­¥è¯·æ±‚ã€æµå¼APIã€WebSocketç­‰ç‰¹æ€§ï¼Œæ€§èƒ½æ›´å¥½ä¸”æ›´æ˜“äºä½¿ç”¨ã€‚

æ¢³ç†æˆªæ­¢ç›®å‰ï¼ŒJavaä¸­æœ‰å“ªäº›å¯ä»¥å‘èµ·Httpè¯·æ±‚çš„æ–¹å¼ï¼Ÿ
1ã€åŸç”Ÿçš„ï¼šjava.netä¸‹çš„HttpClient
2ã€Apacheæä¾›çš„ï¼šorg.apache.http.client.HttpClient
3ã€Springæ¡†æ¶æä¾›çš„ï¼š[[Spring FrameWork#~~RestTemplate~~]]ã€OpenFeign

## [[Java_ç½‘ç»œç¼–ç¨‹#InetAddressç±»]]
# java.textåŒ…

## NumberFormatç±»
å°†è¾“å…¥çš„æ•°æ®æ ¼å¼åŒ–ä¸ºåˆ¶å®šçš„æ˜¾ç¤ºæ ¼å¼ï¼

æ ¼å¼åŒ–æ•°å­—ï¼Œ`java.text.NumberFormatæŠ½è±¡ç±»`

æŠ½è±¡ç±»ï¼Œä¸æ˜¯é€šè¿‡newæ¥åˆ›å»ºç±»çš„å®ä¾‹åŒ–å¯¹è±¡ï¼›è€Œæ˜¯é€šè¿‡Factory Methodæ¥ç”Ÿäº§ä¸€ä¸ªå®ä¾‹åŒ–å¯¹è±¡ã€‚

1ã€è´§å¸æ ¼å¼åŒ–
```
public class Main {  
    public static void main(String[] args) {  
        NumberFormat currency = NumberFormat.getCurrencyInstance(); // ä¸åŒäºnewå®ä¾‹åŒ–
        String result = currency.format(1234567.891);  
        System.out.println(result);  
    }  
}
```

2ã€ç™¾åˆ†æ¯”æ ¼å¼åŒ–
é“¾å¼è°ƒç”¨
```
public class Main {  
    public static void main(String[] args) {  
        // é“¾å¼è°ƒç”¨æ–¹æ³•       æ–¹æ³•1ï¼šFactory methodå®ä¾‹åŒ–æŠ½è±¡ç±»   æ–¹æ³•2ï¼šæ ¼å¼åŒ–æ•°å­—  
        String result = NumberFormat.getPercentInstance().format(0.25);  
        System.out.println(result);  
    }  
}
```
### å¸¸ç”¨æ–¹æ³•
-  getInstance()
è·å–é»˜è®¤æ•°å­—æ ¼å¼åŒ–å¯¹è±¡
- getCurrencyInstance()
è´§å¸æ ¼å¼åŒ–å¯¹è±¡
-  getPercentInstance()
ç™¾åˆ†æ¯”æ ¼å¼åŒ–å¯¹è±¡


## SimpleDateFormatç±»
æ ¼å¼åŒ–å’Œè§£ææ—¥æœŸçš„å…·ä½“ç±»ï¼
æ ¼å¼åŒ–ï¼šæ—¥æœŸå¯¹è±¡  ->  æ–‡æœ¬
è§£æï¼š    æ–‡æœ¬  ->  æ—¥æœŸå¯¹è±¡

```
// æ ¼å¼åŒ–æ—¥æœŸ
SimpleDateFormat sdf = new SimpleDateFormat();
Date date = new Date();   // java.util.Date
String strDate = sdf.format(date);

>> 22-12-5 ä¸‹åˆ2:21   # æŒ‰é»˜è®¤formatæ ¼å¼è¾“å‡ºçš„æ ·å¼

// è§£æä¸ºæ—¥æœŸå¯¹è±¡
Date date2 = sdf.parse("22-12-5 ä¸‹åˆ2:21");

>> è¾“å‡ºDateå®ä¾‹å¯¹è±¡
```

è‡ªå®šä¹‰æ ¼å¼
[å®˜æ–¹APIå‚è€ƒï¼šFormatæ ¼å¼å‚è€ƒ](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/SimpleDateFormat.html)

```
// æœ€å¸¸ç”¨çš„æ ¼å¼
yyyy-MM-dd HH:mm:ss

>> 2022-12-05 14:27:19
```

```
SimpleDateFormat sdf = new SimpleDateFormat("EEE, d MMM yyyy HH:mm:ss Z");
Date date = new Date();   // java.util.Date
String strDate = sdf.format(date);
```


å°†å­—ç¬¦ä¸²è§£ææˆæ—¥æœŸï¼š
```
String format = "yyyy-MM-dd";  
SimpleDateFormat sdf = new SimpleDateFormat(format);  
Date myBeginDate = sdf.parse(beginDate);  
Date myEndDate = sdf.parse(endDate);
```


# java.ioåŒ…

## Serializable
ä¸€èˆ¬ç”¨åœ¨å®ä½“ç±»ä¸Šï¼Œå› ä¸ºéœ€è¦è½¬æ¢ä¸ºJSONæ¥ä¼ è¾“ï¼
è”æƒ³åˆ°[[Java_03_é«˜çº§ç‰¹æ€§#å¯¹è±¡æµ]]
[[æ ‡å‡†åº“.å†…ç½®å‡½æ•°#åºåˆ—åŒ–]]
[[Django-2#åºåˆ—åŒ–å™¨çš„å…³é”®æ­¥éª¤]]

```
@Data  
@TableName("pms_attr")  
public class AttrEntity implements Serializable {}
```
ä¸€æ—¦å®ç°äº†Serializableæ¥å£ï¼Œå°±èƒ½å°†å®ä¾‹çš„Fieldåºåˆ—åŒ–ä¸ºå­—èŠ‚æµï¼Œä»è€Œé€šè¿‡ç½‘ç»œä¼ è¾“ã€æˆ–è¿›ç¨‹ä¹‹é—´è¿›è¡Œä¼ è¾“ã€‚ä¹Ÿå¯ä»¥é€šè¿‡ååºåˆ—åŒ–å°†å­—èŠ‚æµè¿˜åŸä¸ºåŸæ¥çš„å¯¹è±¡å®ä¾‹ã€‚

![[Java_03_é«˜çº§ç‰¹æ€§#^80c05e]]

serialVersionUID

é»˜è®¤æƒ…å†µä¸‹ä¼šå°†è¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰Fieldå…¨éƒ¨åºåˆ—åŒ–ï¼Œå¯ä»¥ä½¿ç”¨**transient**  [[Java_01_åŸºç¡€#éè®¿é—®ä¿®é¥°ç¬¦ - å…³é”®å­—]]]æ ‡è®°ä¸éœ€è¦åºåˆ—åŒ–çš„å­—æ®µã€‚
åŠ åˆ°Fieldä¸Šï¼Œåœ¨å®ç°Serializableæ¥å£çš„ç±»ä¸­ï¼ŒåŠ è¯¥å…³é”®å­—çš„Fieldå°†ä¸è¢«åºåˆ—åŒ–ï¼›staticä¹Ÿä¸ä¼šè¢«åºåˆ—åŒ–
è”æƒ³ï¼Œä¹Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªDTOï¼ˆç¼©å°ç‰ˆçš„Pojoå¯¹å¤–æš´éœ²ï¼‰[[è½¯ä»¶æ¶æ„æ¨¡å¼#^36b507]]


# ğŸ•™java.timeåŒ…ã€æ—¶é—´ç›¸å…³éƒ½ç”¨å®ƒã€‘
jdkçš„æ—©æœŸç‰ˆæœ¬ï¼Œå’Œæ—¶é—´ç›¸å…³çš„ç±»åº“æœ‰ï¼š[[#Dateç±»]]ã€[[#Calendarç±»]]  è¿™ä¸¤ä¸ªéƒ½éå¸¸éš¾ç”¨ï¼

Java 8ä¸­å¼•å…¥çš„timeåŒ…å·²ç»çº æ­£äº†è¿‡å»çš„ç¼ºé™·ï¼Œå°†æ¥æˆ‘ä»¬éƒ½ç”¨å®ƒå°±è¡Œäº†ï¼LTS
```
â”œâ”€â”€ 
	â”œâ”€â”€ java.time                 # åŸºç¡€åŒ…
	â”œâ”€â”€ java.time.chrono          # ä¸åŒæ—¥å†ç³»ç»Ÿè®¿é—®
	â”œâ”€â”€ java.time.format          # æ ¼å¼åŒ–å’Œè§£æåŠŸ
	â”œâ”€â”€ java.time.temporal        # åº•å±‚æ¡†æ¶å’Œæ‹“å±•ç‰¹æ€§
	â”œâ”€â”€  java.time.zone           # è¯†è¶£æ”¯æŒçš„ç±»
```

## æœ¬åœ°æ—¥æœŸæ—¶é—´ï¼šLocalDateã€LocalTimeã€LocalDateTime
### åˆ›å»ºå¯¹è±¡
1ã€static now()  å½“å‰æ—¶é—´
```
LocalDate.now();
LocalTime.now();
LocalDateTime.now();
```

2ã€of()  æŒ‡å®šæ—¶é—´
```
LocalDate.of(year, month, dayofMonth);
LocalTime.of(date, time, dayOfMonth, æ—¶ï¼Œ åˆ†ï¼Œ ç§’)
```
### å¸¸ç”¨æ–¹æ³•
#### getXxx()
è·å–
#### withXxx()
æŒ‡å®š
#### plusXxx()
åŠ 
#### minusXxx()
å‡

## æ—¶é—´æˆ³ï¼šInstant
![[#^49ad31]]
### åˆ›å»ºå¯¹è±¡
1ã€now()
```
Instant.now();    # è¾“å‡ºå½“å‰æ—¶é—´çš„æ—¶é—´æˆ³ï¼Œè¾“å‡ºçš„æ˜¯toStringçš„æ ¼å¼ï¼Œä½†æ˜¯æ ¼æ—å¨æ²»æ—¶åŒº

Instant.now().atOffset(ZoneOffset.ofHour(8));  # åç§»åˆ°ä¸œå…«åŒº
```

2ã€ofEpochMilli(long milliTime)
```
Instant.ofEpochMilli(long milliTime)
```

### å¸¸ç”¨æ–¹æ³•
#### toEpochMilli()
è·å–æ¯«ç§’æ•°ï¼

## æ ¼å¼åŒ–ï¼šDataTimeFormatter
ç”¨äºæ ¼å¼åŒ–å’Œè§£æï¼

åŸºæœ¬ä½¿ç”¨ç¤ºä¾‹ï¼š
```
DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern("yyyy-MM-dd hh:mm:ss");  
LocalDateTime now = LocalDateTime.now();  

dateTimeFormatter.format(now).sout

>> 2024-08-06 11:38:36
```

TemporalAccessoræ˜¯ä¸Šå±‚æ¥å£ï¼Œåˆ©ç”¨LocalDateTimeç±»çš„from()ï¼Œè½¬ä¸ºLocalDateTimeçš„å®ä¾‹å¯¹è±¡ï¼ 
```
//è§£æ  
TemporalAccessor temporalAccessor = dateTimeFormatter.parse("2024-08-06 11:38:36");  
LocalDateTime localDateTime = LocalDateTime.from(temporalAccessor);
```

ä¸¤ä¸ªå¸¸ç”¨çš„åœºæ™¯ï¼š
è§£ææ¨¡å¼ï¼š
å¹´     yyyy
æœˆ     **MM**    <- å¤§å†™
æ—¥     dd
æ—¶     **HH**    <- å¤§å†™
åˆ†     mm

1ã€å­—ç¬¦ä¸²â€œæ—¥æœŸ+æ—¶é—´ = LocalDateTimeâ€è§£æï¼›2024-08-21-10:31
```
String str1 = "2024-08-21-10:31";  
DateTimeFormatter formatter1 = DateTimeFormatter.ofPattern("yyyy-MM-dd-HH:mm");  
LocalDateTime dateTime = LocalDateTime.parse(str1,formatter1);
```

2ã€å­—ç¬¦ä¸²â€œæ—¥æœŸ = LocalDate â€è§£æï¼š        2024-08-21
```
String str2 = "2024-08-21";  
DateTimeFormatter formatter2 = DateTimeFormatter.ofPattern("yyyy-MM-dd");  
LocalDate date = LocalDate.parse(str2,formatter2);
```

2ã€å­—ç¬¦ä¸²â€œæ—¶é—´ = LocalTimeâ€è§£æï¼š        10:31
```
String str = "10:31";  
  
DateTimeFormatter formatter = DateTimeFormatter.ofPattern("HH:mm");  

LocalTime time = LocalTime.parse(str, formatter);
```


# java.sqlåŒ…
## Dateç±»
ç»§æ‰¿è‡ªjava.util.Dateç±»
ä¸»è¦å¤„ç†æ•°æ®åº“ä¸­æ—¶é—´ç›¸å…³çš„å¯¹è±¡

### æ„é€ å™¨
#### new Date(long timeMillis)
sqlåŒ…ä¸‹çš„Dateç±»ï¼Œåªæœ‰ä¸€ä¸ªæ„é€ æ–¹æ³•ï¼›
==å¿…é¡»ä¼ ä¸€ä¸ªæ—¶é—´æˆ³==ï¼Œæ¥æ„é€ ä¸€ä¸ªDateå¯¹è±¡å®ä¾‹ï¼

### å¸¸ç”¨æ–¹æ³•
##### toString()
sqlåŒ…ä¸‹çš„Dateç±»çš„toStringæ‰“å°å‡ºæ¥çš„ç»“æœï¼Œå’Œjava.util.Dateç±»é‡Œçš„toStringæ ¼å¼ä¸åŒ
2022-06-03
æ²¡æœ‰æ˜¾ç¤ºæ—¶åˆ†ç§’ï¼Œä½†æ˜¯æ˜¯åŒ…å«çš„ï¼

# jakarta
javaxåŒ… æ˜¯ Oracleå…¬å¸ç»´æŠ¤çš„ï¼Œé’ˆå¯¹JavaåŸºç¡€åŒ…çš„æ‹“å±•ï¼
jarkataåŒ… æ˜¯ Eclipseå…¬å¸ç»´æŠ¤çš„ï¼ŒåŸºäºjavaxçš„è¿­ä»£ç‰ˆï¼ˆä¸»æµç”¨è¿™ä¸ªäº†ï¼‰
[Jakarta EE Platform API](https://jakarta.ee/specifications/platform/9/apidocs/overview-summary)
## servletåŒ…
webé¡¹ç›®ï¼Œå¯¼å…¥tomcatä¾èµ–çš„æ—¶å€™ï¼Œè‡ªåŠ¨å¯¼å…¥é‡Œservlet-api.jarï¼Œå°±èƒ½åœ¨é¡¹ç›®ä¸Šç”¨ï¼

### Servletæ¥å£
#### GenericServlet æŠ½è±¡ç±»
éœ€è¦é‡æ–°æ‰€æœ‰æ–¹æ³•ã€‚

### httpåŒ…

#### HttpServletæŠ½è±¡ç±»
æˆ‘ä»¬æ‰€æœ‰Servletè‡ªå®šä¹‰ç±»ï¼Œéƒ½ç»§æ‰¿å®ƒï¼
å› ä¸ºï¼Œæˆ‘ä»¬åªéœ€è¦å†™service()ï¼Œå…¶ä»–å’ŒTCPåè®®ç›¸å…³çš„å‘¨æœŸæ–¹æ³•ï¼ŒHttpServletéƒ½å¸®æˆ‘ä»¬å†™å¥½äº†ã€‚èˆ’æœ


# ç¬¬ä¸‰æ–¹å¸¸ç”¨åº“
OneDrive-ä¸ªäºº/æ–‡æ¡£/02-å­¦ä¹ /Learn_Java_Mosh/java_ç¬¬ä¸‰æ–¹åº“_å…³ç³»å›¾.excalidraw

æ¯ä¸€ä¸ªç¬¬ä¸‰æ–¹ä¾èµ–åŒ…ï¼Œéƒ½å›ºå®šç”¨ä¸€ä¸ªç‰ˆæœ¬ï¼Œæœ¬åœ°mavenä»“åº“å¯ä»¥å¤ç”¨èµ·æ¥ï¼Œä¸ç”¨æ¯æ¬¡ä¸€ä¸ªé¡¹ç›®ï¼Œå°±ä¸‹è½½ä¸€ä¸ªæ–°ç‰ˆæœ¬ï¼Œå®Œå…¨æ²¡å¿…è¦ï¼ä¸ç„¶maven-repoè¶Šæ¥è¶Šå¤§ï¼Œ
## spring-framework

### beansåŒ…
#### BeanUtils
##### copyProperties(A,B)
æŠŠAå¯¹è±¡çš„å±æ€§ï¼Œ--->  æ‹·è´åˆ°Bå¯¹è±¡çš„å±æ€§ä¸­ï¼Œæ²¡æœ‰çš„ç©ºç€ã€‚éå¸¸å®ç”¨ï¼ˆVOï¼‰

## æ—¥å¿—
é—¨é¢æ—¥å¿—æ¡†æ¶ï¼Œå°±æ˜¯ç±»ä¼¼äºæ¥å£ï¼Œç›´æ¥æä¾›ç»™å¼€å‘è€…è°ƒç”¨ï¼Œä½¿ç”¨çš„ï¼
åº•å±‚æ—¥å¿—å®ç°ï¼Œå°±æ˜¯å…¬å¸é’ˆå¯¹é—¨é¢æ—¥å¿—æ¡†æ¶çš„å…·ä½“å®ç°ï¼Œæˆ‘ä»¬ä¸éœ€è¦ç®¡å®ƒä»¬ï¼Œæˆ‘ä»¬åªéœ€è¦è°ƒç”¨é—¨é¢å°±è¡Œ

| åç§°      | JaråŒ…                                                              | æè¿°                                        | åŒ¹é…å…³ç³»                                                              |     |
| ------- | ----------------------------------------------------------------- | ----------------------------------------- | ----------------------------------------------------------------- | --- |
| jcl     | commons-logging.jar                                               | ==é—¨é¢æ—¥å¿—æ¡†æ¶==ï¼›<br>*å¾ˆä¹…æ²¡æœ‰æ›´æ–°*                   | log4j                                                             | åºŸå¼ƒ  |
| slf4j   | slf4j-api.jar                                                     | ==é—¨é¢æ—¥å¿—æ¡†æ¶==                                | Logback                                                           |     |
|         |                                                                   |                                           |                                                                   |     |
| jul     | JDK<br>java.util.logging                                          | ==åº•å±‚æ—¥å¿—æ¡†æ¶==  <br>*ä¸ä½¿ç”¨*                     | slf4j -> slf4j-jdk14.jar                                          | åºŸå¼ƒ  |
| log4j   | log4j.jar                                                         | ==åº•å±‚æ—¥å¿—æ¡†æ¶==  <br>log4j 1.x   <br>*å·²ä¸å†æ›´æ–°ç»´æŠ¤* | jcl   ->   ??<br>slf4j -> slf4j-log4j12.jar                       | åºŸå¼ƒ  |
| log4j2  | log4j-api.jar<br>log4j-core.jar                                   | ==åº•å±‚æ—¥å¿—æ¡†æ¶==                                | slf4j -> log4j-slf4j-impl.jar<br>slf4j <= 1.7.xé€‚ç”¨<br>ï¼ˆæˆ‘å›ºå®šç”¨1.7.22ï¼‰ |     |
| Logback | logback-classic.jar<br>~~logback-core.jar~~<br>(ä¸ç”¨å¯¼ï¼Œåœ¨classicä¸­åŒ…å«äº†) | ==åº•å±‚æ—¥å¿—æ¡†æ¶==                                | slf4j                                                             |     |

Slf4jï¼Œé…¸è¾£ç²‰å››æ–¤ï¼
Slf4j æ˜¯æ—¥å¿—çš„é¡¶å±‚æ¥å£ï¼Œæ‰€æœ‰å®ç°ç±»çš„è§„èŒƒ
ä¸‹å±çš„å®ç°ç±»æœ‰ï¼š
	log4j
	log4j2
	logback

![](https://picgo-rockyshen.oss-cn-shanghai.aliyuncs.com/picgo/202407281131818.png)

### åŸºæœ¬æ¦‚å¿µ
#### Logger
è®°å½•å™¨ï¼Œæ—¥å¿—ç±»åˆ«å’Œçº§åˆ«ï¼›

äº”ä¸ªæ—¥å¿—çº§åˆ«ï¼šDEBUGã€INFOã€WARNã€ERRORå’ŒFATAL

åªè¾“å‡ºçº§åˆ«ä¸ä½äºè®¾å®šçº§åˆ«çš„æ—¥å¿—ä¿¡æ¯ï¼Œå‡è®¾Loggersçº§åˆ«è®¾å®šä¸ºINFOï¼Œåˆ™INFOã€WARNã€ERRORå’ŒFATALçº§åˆ«çš„æ—¥å¿—ä¿¡æ¯éƒ½ä¼šè¾“å‡ºï¼Œè€Œçº§åˆ«æ¯”INFOä½çš„DEBUGåˆ™ä¸ä¼šè¾“å‡ºã€‚
#### Appender
è¾“å‡ºæºï¼šæ—¥å¿—è¦è¾“å‡ºçš„åœ°æ–¹ï¼›
- org.apache.log4j.ConsoleAppenderï¼ˆæ§åˆ¶å°ï¼‰
- org.apache.log4j.FileAppenderï¼ˆæ–‡ä»¶ï¼‰
- org.apache.log4j.DailyRollingFileAppenderï¼ˆæ¯å¤©äº§ç”Ÿä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ï¼‰
- org.apache.log4j.RollingFileAppenderï¼ˆæ–‡ä»¶å¤§å°åˆ°è¾¾æŒ‡å®šå°ºå¯¸çš„æ—¶å€™äº§ç”Ÿä¸€ä¸ªæ–°çš„æ–‡ä»¶ï¼‰
- org.apache.log4j.WriterAppenderï¼ˆå°†æ—¥å¿—ä¿¡æ¯ä»¥æµæ ¼å¼å‘é€åˆ°ä»»æ„æŒ‡å®šçš„åœ°æ–¹ï¼‰
#### Layout
å¸ƒå±€ï¼šæ—¥å¿—ä»¥ä½•ç§å½¢å¼è¾“å‡ºã€‚
- org.apache.log4j.HTMLLayoutï¼ˆä»¥HTMLè¡¨æ ¼å½¢å¼å¸ƒå±€ï¼‰
- org.apache.log4j.PatternLayoutï¼ˆå¯ä»¥çµæ´»åœ°æŒ‡å®šå¸ƒå±€æ¨¡å¼ï¼‰
- org.apache.log4j.SimpleLayoutï¼ˆåŒ…å«æ—¥å¿—ä¿¡æ¯çš„çº§åˆ«å’Œä¿¡æ¯å­—ç¬¦ä¸²ï¼‰
- org.apache.log4j.TTCCLayoutï¼ˆåŒ…å«æ—¥å¿—äº§ç”Ÿçš„æ—¶é—´ã€çº¿ç¨‹ã€ç±»åˆ«ç­‰ä¿¡æ¯ï¼‰


[tailspin](https://github/com/bensadeh/tailspin)ï¼šgithubå¼€æºé¡¹ç›®ï¼Œé«˜äº®é˜…è¯»æ—¥å¿—ï¼

### ~~[[#ã€æ—¥å¿—é—¨é¢ã€‘apache.commons.loggingåŒ…]]~~
org.apache.commons.logging

### ã€æ—¥å¿—é—¨é¢ã€‘slf4j
org.slf4j

æœ‰äººå¯¹Commons Loggingçš„æ¥å£ä¸æ»¡æ„ï¼Œæœ‰äººå°±æäº†SLF4Jã€‚å› ä¸ºå¯¹Log4jçš„æ€§èƒ½ä¸æ»¡æ„ï¼Œæœ‰äººå°±æäº†Logbackã€‚
	ä¾‹å¦‚æ‹¼æ¥å­—ç¬¦ä¸²ç­‰ï¼Œè€Œä¸æ˜¯å ä½ç¬¦

å›ºå®šä½¿ç”¨è¿™ä¸ªä¾èµ–ï¼Œmavenæœ¬åœ°ä»“åº“ä¸­æœ‰
```
<dependency>  
    <groupId>org.slf4j</groupId>  
    <artifactId>slf4j-api</artifactId>  
    <version>1.7.22</version>  
</dependency>
```

^be6109

SpringBootæ¡†æ¶ä½¿ç”¨Slf4JLoggingSystemå®ç°æ­¤è§„èŒƒã€‚
åœ¨org.springframework.boot.context.loggingåŒ…ä¸‹

### ~~ã€æ—¥å¿—å®ç°ã€‘log4j 1.x~~
apacheçš„ä¸€ä¸ªå¼€æºé¡¹ç›®ã€‚==å¤ªè€äº†ï¼ŒåºŸå¼ƒï¼==

æ—¢æœ‰é’ˆå¯¹  -->  ~~[[#ã€æ—¥å¿—é—¨é¢ã€‘apache.commons.loggingåŒ…]] çš„å®ç°ï¼Œè¿™ä¸ªä¸€èˆ¬éƒ½ä¸ç”¨äº†ï¼~~
ä¹Ÿæœ‰æ­£å¯¹  -->  [[#ã€æ—¥å¿—é—¨é¢ã€‘slf4j]] çš„å®ç°ï¼Œä¸€èˆ¬è¿™ä¸ªç”¨çš„æ¯”è¾ƒå¤šï¼

slf4jçš„åŒ…é‡Œï¼Œé»˜è®¤å°±å¸¦äº†log4jï¼ˆä¸€ä»£ï¼‰çš„æ”¯æŒï¼Œåªéœ€è¦å¯¼å…¥ä¸‹é¢çš„ä¾èµ–ï¼Œå°±èƒ½ç›´æ¥ç”¨log4jäº†
æ³¨æ„ï¼šä¸è¦æ¢ç‰ˆæœ¬ï¼Œæœ¬åœ°mavenä»“åº“ä¸­å·²ç»å­˜åœ¨äº†ï¼Œé¿å…å¤ç”¨ï¼

æ–¹å¼1ï¼šÂ slf4jæä¾›ç»‘å®šå™¨,å®ƒå°†slf4j API çš„è°ƒç”¨è½¬å‘åˆ° Log4j 1.2 çš„å®ç°ä¸Š
```
<dependency>  
    <groupId>org.slf4j</groupId>  
    <artifactId>slf4j-log4j12</artifactId>  
    <version>1.7.28</version>  
</dependency>
```

æ–¹å¼2ï¼šï¼ˆä¸æ¨èï¼‰ç›´æ¥ä½¿ç”¨Log4j 1.2 çš„ APIï¼Œæ²¡æœ‰ä¾èµ–æ—¥å¿—é—¨é¢ï¼Œä¸æ˜¯ä¸€ä¸ªè§„èŒƒçš„æ“ä½œ
ä¸å®ç°ç´§è€¦åˆ,é™ä½äº†ä»£ç çš„å¯ç§»æ¤æ€§ã€‚
```
<dependency>
Â Â  <groupId>log4j</groupId>
Â Â  <artifactId>log4j</artifactId>
Â Â  <version>1.2.15</version>
</dependency>
```
#### log4jçš„é…ç½®æ–‡ä»¶
éƒ½æ˜¯æ”¾åœ¨resourcesæ–‡ä»¶å¤¹ä¸‹ï¼š
ï¼ˆè¾“å‡ºåˆ°IDEAçš„æ–‡ä»¶æ¨¡ç‰ˆä¸­ï¼Œç›´æ¥å³é”®åˆ›å»ºæ¨¡ç‰ˆå³å¯ï¼‰

æ–¹å¼1ï¼šlog4j.properties
```
log4j.rootLogger=DEBUG,stdout  
log4j.logger.org.mybatis=DUBUG  
log4j.appender.stdout=org.apache.log4j.ConsoleAppender  
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout  
log4j.appender.logDailyFile.layout.ConversionPattern = %5p %d %C:%m%n
```

ä¸€ä¸ªè¾ƒä¸ºæ ‡å‡†çš„å‚è€ƒé…ç½®
```
# è¾“å‡ºåˆ°æ§åˆ¶å°

# WARNï¼šæ—¥å¿—çº§åˆ«  CONSOLEï¼šè¾“å‡ºä½ç½®è‡ªå·±å®šä¹‰çš„ä¸€ä¸ªåå­— logfileï¼šè¾“å‡ºä½ç½®è‡ªå·±å®šä¹‰çš„ä¸€ä¸ªåå­—
log4j.rootLogger=WARN,CONSOLE,logfile
# é…ç½®CONSOLEè¾“å‡ºåˆ°æ§åˆ¶å°
log4j.appender.CONSOLE=org.apache.log4j.ConsoleAppender 
# é…ç½®CONSOLEè®¾ç½®ä¸ºè‡ªå®šä¹‰å¸ƒå±€æ¨¡å¼
log4j.appender.CONSOLE.layout=org.apache.log4j.PatternLayout 
# é…ç½®CONSOLEæ—¥å¿—çš„è¾“å‡ºæ ¼å¼  [frame] 2019-08-22 22:52:12,000  %rè€—è´¹æ¯«ç§’æ•° %pæ—¥å¿—çš„ä¼˜å…ˆçº§ %tçº¿ç¨‹å %Cæ‰€å±ç±»åé€šå¸¸ä¸ºå…¨ç±»å %Lä»£ç ä¸­çš„è¡Œå· %xçº¿ç¨‹ç›¸å…³è”çš„NDC %mæ—¥å¿— %næ¢è¡Œ
log4j.appender.CONSOLE.layout.ConversionPattern=[frame] %d{yyyy-MM-dd HH:mm:ss,SSS} - %-4r %-5p [%t] %C:%L %x - %m%n

# è¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶ä¸­
# é…ç½®logfileè¾“å‡ºåˆ°æ–‡ä»¶ä¸­ æ–‡ä»¶å¤§å°åˆ°è¾¾æŒ‡å®šå°ºå¯¸çš„æ—¶å€™äº§ç”Ÿæ–°çš„æ—¥å¿—æ–‡ä»¶
log4j.appender.logfile=org.apache.log4j.RollingFileAppender
# ä¿å­˜ç¼–ç æ ¼å¼
log4j.appender.logfile.Encoding=UTF-8
# è¾“å‡ºæ–‡ä»¶ä½ç½®æ­¤ä¸ºé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„logsæ–‡ä»¶å¤¹ä¸­
log4j.appender.logfile.File=logs/root.log
# åç¼€å¯ä»¥æ˜¯KB,MB,GBè¾¾åˆ°è¯¥å¤§å°ååˆ›å»ºæ–°çš„æ—¥å¿—æ–‡ä»¶
log4j.appender.logfile.MaxFileSize=10MB
# è®¾ç½®æ»šå®šæ–‡ä»¶çš„æœ€å¤§å€¼3 æŒ‡å¯ä»¥äº§ç”Ÿroot.log.1ã€root.log.2ã€root.log.3å’Œroot.logå››ä¸ªæ—¥å¿—æ–‡ä»¶
log4j.appender.logfile.MaxBackupIndex=3  
# é…ç½®logfileä¸ºè‡ªå®šä¹‰å¸ƒå±€æ¨¡å¼
log4j.appender.logfile.layout=org.apache.log4j.PatternLayout
log4j.appender.logfile.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %F %p %m%n

# å¯¹ä¸åŒçš„ç±»è¾“å‡ºä¸åŒçš„æ—¥å¿—æ–‡ä»¶
# club.bagedateåŒ…ä¸‹çš„æ—¥å¿—å•ç‹¬è¾“å‡º
log4j.logger.club.bagedate=DEBUG,bagedate
# è®¾ç½®ä¸ºfalseè¯¥æ—¥å¿—ä¿¡æ¯å°±ä¸ä¼šåŠ å…¥åˆ°rootLoggerä¸­äº†
log4j.additivity.club.bagedate=false

# ä¸‹é¢å°±å’Œä¸Šé¢é…ç½®ä¸€æ ·äº†
log4j.appender.bagedate=org.apache.log4j.RollingFileAppender
log4j.appender.bagedate.Encoding=UTF-8
log4j.appender.bagedate.File=logs/bagedate.log
log4j.appender.bagedate.MaxFileSize=10MB
log4j.appender.bagedate.MaxBackupIndex=3
log4j.appender.bagedate.layout=org.apache.log4j.PatternLayout
log4j.appender.bagedate.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %F %p %m%n
```

è…¾è®¯äº‘ä¸Šçš„å‚è€ƒé…ç½®
```
### set log levels 
### log4j.rootLogger = DEBUG , C , D , E 

### console ### 
log4j.appender.C = org.apache.log4j.ConsoleAppender 
log4j.appender.C.Target = System.out 
log4j.appender.C.layout = org.apache.log4j.PatternLayout log4j.appender.C.layout.ConversionPattern = [mybatis_study][%p] [%-d{yyyy-MM-dd HH\:mm\:ss}] %C.%M(%L) | %m%n 

### log file ### 
log4j.appender.D = org.apache.log4j.DailyRollingFileAppender 
log4j.appender.D.File = ../logs/mybatis_study.log log4j.appender.D.Append = true log4j.appender.D.Threshold = INFO 
log4j.appender.D.layout = org.apache.log4j.PatternLayout log4j.appender.D.layout.ConversionPattern = [mybatis_study][%p] [%-d{yyyy-MM-dd HH\:mm\:ss}] %C.%M(%L) | %m%n 

### exception ### 
log4j.appender.E = org.apache.log4j.DailyRollingFileAppender 
log4j.appender.E.File = ../logs/mybatis_study_error.log 
log4j.appender.E.Append = true 
log4j.appender.E.Threshold = ERROR log4j.appender.E.layout = org.apache.log4j.PatternLayout 
log4j.appender.E.layout.ConversionPattern = [mybatis_study][%p] [%-d{yyyy-MM-dd HH\:mm\:ss}] %C.%M(%L) | %m%n 

### mybatis show sql ### 
log4j.logger.com.ibatis=debug log4j.logger.com.ibatis.common.jdbc.SimpleDataSource=debug log4j.logger.com.ibatis.common.jdbc.ScriptRunner=debug log4j.logger.com.ibatis.sqlmap.engine.impl.SqlMapClientDelegate=debug log4j.logger.java.sql.Connection=debug log4j.logger.java.sql.Statement=debug log4j.logger.java.sql.PreparedStatement=debug
```


æ–¹å¼2ï¼šlog4j.xml  ä¸å¸¸ç”¨ï¼

### ã€æ—¥å¿—å®ç°ã€‘Logback
åŸºäº[[#ã€æ—¥å¿—é—¨é¢ã€‘slf4j]] çš„å®ç°ï¼›Springbooté»˜è®¤ä½¿ç”¨æ­¤

log4j 2.x æ˜¯Apacheå®˜æ–¹å‡ºçš„2.0ç‰ˆæœ¬ï¼› Logbackæ˜¯æºä»£ç ä½œè€…è‡ªå·±å‡ºçš„2.0ç‰ˆæœ¬
ä»¥ä¸‹æ˜¯æ¥è‡ªå®˜ç½‘çš„åŸè¯ï¼Œè¿™æ˜¯ç”±log4jæºä»£ç ä½œè€…ï¼Œç‹¬ç«‹å¼€å‘çš„å¦ä¸€ä¸ªé¡¹ç›®ï¼Œè¢«ç§°ä¸ºï¼šlog4jåæµª
```
Logback æ—¨åœ¨ä½œä¸ºæµè¡Œçš„ log4j é¡¹ç›®çš„ç»§æ‰¿è€…ï¼Œç»§æ‰¿ log4j 1.x æ‰€é—æ¼çš„å†…å®¹ã€‚
```

Logbackéœ€è¦æ­é…slf4jä¸€èµ·ä½¿ç”¨ã€‚
	slf4jä½œä¸ºé—¨é¢æ¡†æ¶ï¼Œåº•å±‚ç”¨logback

å›ºå®šä½¿ç”¨è¿™ä¸ªä¾èµ–ï¼Œç‰ˆæœ¬ä¹Ÿæ˜¯éªŒè¯è¿‡çš„ï¼Œç›´æ¥æ‹·è´ç”¨ï¼mavenæœ¬åœ°ä»“åº“ä¸­æœ‰
![[#^be6109]]
```
<dependency>  
    <groupId>ch.qos.logback</groupId>  
    <artifactId>logback-classic</artifactId>  
    <version>1.2.3</version>  
</dependency>
```
logback-coreå¯ä»¥ä¸ç”¨å¯¼å…¥ï¼Œå› ä¸ºlogback-classicå·²ç»åŒ…å«äº†ï¼

#### Logbackçš„é…ç½®æ–‡ä»¶
![[SpringBoot#^c0dd59]]

logback-spring.xmlï¼ˆè¾“å‡ºåˆ°IDEAçš„æ–‡ä»¶æ¨¡ç‰ˆä¸­ï¼Œç›´æ¥å³é”®åˆ›å»ºæ¨¡ç‰ˆå³å¯ï¼‰
```
<?xml version="1.0" encoding="UTF-8"?>
<configuration>
Â  Â  <!-- å®šä¹‰æ—¥å¿—æ–‡ä»¶çš„å­˜å‚¨åœ°å€å’Œæ–‡ä»¶å -->
Â  Â  <property name="LOG_PATH" value="./logs" />
Â  Â  <property name="LOG_FILE_NAME" value="my-application.log" />

Â  Â  <!-- appender1 ç”¨äºæ§åˆ¶å°è¾“å‡º -->
Â  Â  <appender name="CONSOLE" class="ch.qos.logback.core.ConsoleAppender">
Â  Â  Â  Â  <encoder>
Â  Â  Â  Â  Â  Â  <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>
Â  Â  Â  Â  </encoder>
Â  Â  </appender>

Â  Â  <!-- appender2  ç”¨äºä»¥æ–‡ä»¶è¾“å‡ºï¼ˆæŒ‰å¤©æ»šåŠ¨ï¼‰ -->
Â  Â  <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
Â  Â  Â  Â  <file>${LOG_PATH}/${LOG_FILE_NAME}</file>
Â  Â  Â  Â  <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
Â  Â  Â  Â  Â  Â  <fileNamePattern>${LOG_PATH}/%d{yyyy-MM-dd}/${LOG_FILE_NAME}.%i.log</fileNamePattern>
Â  Â  Â  Â  Â  Â  <timeBasedFileNamingAndTriggeringPolicy class="ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP">
Â  Â  Â  Â  Â  Â  Â  Â  <maxFileSize>50MB</maxFileSize>
Â  Â  Â  Â  Â  Â  </timeBasedFileNamingAndTriggeringPolicy>
Â  Â  Â  Â  Â  Â  <maxHistory>30</maxHistory>
Â  Â  Â  Â  </rollingPolicy>
Â  Â  Â  Â  
Â  Â  Â  Â  <encoder>
Â  Â  Â  Â  Â  Â  <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>
Â  Â  Â  Â  </encoder>
Â  Â  Â  Â  
Â  Â  </appender>

Â  Â  <!-- æ ¹ Logger é…ç½® -->
Â  Â  <root level="INFO">
Â  Â  Â  Â  <appender-ref ref="CONSOLE" />
Â  Â  Â  Â  <appender-ref ref="FILE" />
Â  Â  </root>

Â  Â  <!-- ç‰¹å®šåŒ…çš„ Logger é…ç½® -->
Â  Â  <logger name="com.example.myapp" level="DEBUG" />
</configuration>
```

### ã€æ—¥å¿—å®ç°ã€‘log4j 2.x
log4j 2.x æ˜¯Apacheå®˜æ–¹å‡ºçš„2.0ç‰ˆæœ¬ï¼› Logbackæ˜¯æºä»£ç ä½œè€…è‡ªå·±å‡ºçš„2.0ç‰ˆæœ¬
æœ‰ä¸€æ®µæ©æ€¨ï¼

![[SpringBoot#^54c984]]

è¿™æ˜¯éSpringé¡¹ç›®ï¼Œå•ç‹¬å¼•å…¥log4j2çš„ä¾èµ–ï¼Œç¤ºä¾‹
å¯ä»¥çœ‹åˆ°ç‰ˆæœ¬æ˜¯ v2.x.x
```
<dependencies>
Â  Â  <dependency>
Â  Â  Â  Â  <groupId>org.apache.logging.log4j</groupId>
Â  Â  Â  Â  <artifactId>log4j-api</artifactId>
Â  Â  Â  Â  <version>2.17.1</version>
Â  Â  </dependency>

Â  Â  <dependency>
Â  Â  Â  Â  <groupId>org.apache.logging.log4j</groupId>
Â  Â  Â  Â  <artifactId>log4j-core</artifactId>
Â  Â  Â  Â  <version>2.17.1</version>
Â  Â  </dependency>

Â  Â  <dependency>
Â  Â  Â  Â  <groupId>org.apache.logging.log4j</groupId>
Â  Â  Â  Â  <artifactId>log4j-slf4j-impl</artifactId>
Â  Â  Â  Â  <version>2.17.1</version>
Â  Â  </dependency>
</dependencies>
```


## lombak
Javaä¸­æœ€å¸¸ç”¨çš„å¥½ä¼™ä¼´

å›ºå®šä¸€ä¸ªç‰ˆæœ¬çš„ä¾èµ–åŒ…ï¼Œæ‰€æœ‰é¡¹ç›®éƒ½å¤ç”¨ï¼
```
<dependency>
   <groupId>org.projectlombok</groupId>
   <artifactId>lombok</artifactId>
   <version>1.18.34</version>
</dependency>
```
### å¸¸ç”¨lombakæ³¨è§£

| XX                       | XX                                                      |
| ------------------------ | ------------------------------------------------------- |
| @Data                    | è‡ªåŠ¨æ·»åŠ Getter Setter toStringæ–¹æ³•<br>![[Java_01_åŸºç¡€#^c62eaf]] |
| [[#@slf4j]]              | æ—¥å¿—ç›¸å…³ï¼Œè‡ªåŠ¨æ³¨å…¥logå¯¹è±¡                                          |
| @AllArgsConsrtructor     | å…¨å‚æ„é€ å™¨                                                   |
| @NoArgsConstructor       | æ— å‚æ„é€ å™¨                                                   |
| @RequiredArgsConstructor | ä¸ºç±»ä¸­finalå’Œnon-nullå­—æ®µä½œä¸ºæ„é€ å‡½æ•°çš„å‚æ•°                            |
| @Accessors(chain=true)   | å¼€å¯é“¾å¼è°ƒç”¨ï¼Œä¸€ç§æ–°çš„è¯­æ³•ç°è±¡                                         |

RequiredArgsConstructoræ³¨è§£çš„ç¤ºä¾‹
```
@RequiredArgsConstructor
public class MyClass{
	private final String requiredField1;
	private final int requiredField2;
	private String optionalField;
}

	// åŠ äº†æ³¨è§£ï¼Œå°±ä¸è¦å†™æ„é€ å‡½æ•°äº†ï¼
	public MyClass(String requiredField1, int requiredField2){
		this.requiredField1 = requiredField1;
		this.requiredField2 = requiredField2
	}
```

2024.9.18 æˆ‘åœ¨gulimallçš„é¡¹ç›®ä¸­ï¼Œå‘ç°lombakçš„@Dataå¤±æ•ˆï¼Œæ ¹æœ¬æ²¡æœ‰ç»™æˆ‘ç”Ÿæˆgetterå’Œsetteræ–¹æ³•ï¼æ€ä¹ˆè§£å†³ï¼Ÿ

### @slf4j
@Slf4j æ˜¯[[#lombak]]æ•´åˆçš„æ³¨è§£ï¼ˆåŠ åˆ°ç±»ä¸Šï¼‰ï¼›è‡ªåŠ¨æ³¨å…¥private static final Loggerï¼Œç›´æ¥è·å–logå¯¹è±¡å°±èƒ½ä½¿ç”¨ï¼
åˆ©ç”¨@Slf4jæ³¨è§£ï¼Œæ³¨å…¥ä¸€ä¸ªlogå¯¹è±¡ï¼Œç¤ºä¾‹ ^8df9b7

å¿…é¡»åŠ å…¥è¿™ä¸¤ä¸ªä¾èµ–
```
<dependency>  
    <groupId>org.projectlombok</groupId>  
    <artifactId>lombok</artifactId>  
    <version>1.18.34</version>  
</dependency>  
<dependency>  
    <groupId>org.slf4j</groupId>  
    <artifactId>slf4j-api</artifactId>  
    <version>2.0.0</version>  
</dependency>
```

```
@Slf4j
public class Demo {
	public static void main(String[] args) {
		String msg = "Hello World.";
		log.info("This is a test message:{}", message);
	}
}

```

^a5de22

#### å¸¸è§é…ç½®
è¿™é‡Œè®°å½•@Slf4jçš„å¸¸ç”¨é…ç½®
```

```

## Jackson
Jacksonæ˜¯JavaåŸç”Ÿçš„è§£æJSONçš„åº“

Javaä¸­å¤„ç†JSONæ•°æ®å˜å¾—æ›´åŠ ç®€å•å’Œé«˜æ•ˆã€‚é€šè¿‡ObjectMapperï¼Œå¼€å‘äººå‘˜å¯ä»¥è½»æ¾åœ°åœ¨Javaå¯¹è±¡å’ŒJSONæ•°æ®ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼Œè¿™åœ¨å®é™…çš„åº”ç”¨ç¨‹åºä¸­æ˜¯éå¸¸å¸¸è§çš„éœ€æ±‚ã€‚

[[#Serializable]]
å½“ä½ åœ¨Spring MVCä¸­ä½¿ç”¨@ResponseBodyæ³¨è§£æ—¶ï¼ŒSpring MVCä¼šé»˜è®¤ä½¿ç”¨Jacksonåº“æ¥å°†è¿”å›çš„å¯¹è±¡è½¬æ¢ä¸ºJSONæ ¼å¼ï¼Œè€ŒJacksonåº“ä¼šåœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°è®¿é—®å¯¹è±¡çš„å±æ€§ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºJSONæ ¼å¼çš„æ•°æ®ã€‚å› æ­¤ï¼Œå³ä½¿ä½ çš„å®ä½“ç±»æ²¡æœ‰æ˜¾å¼åœ°å®ç°Serializableæ¥å£ï¼ŒSpring MVCä»ç„¶èƒ½å¤Ÿå°†å…¶è½¬æ¢ä¸ºJSONå¹¶è¿”å›ç»™å®¢æˆ·ç«¯ã€‚

ObjectMapperç±»çš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š
1. å°†Javaå¯¹è±¡è½¬æ¢ä¸ºJSONæ ¼å¼çš„å­—ç¬¦ä¸²ï¼ˆåºåˆ—åŒ–ï¼‰

2. å°†JSONæ ¼å¼çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºJavaå¯¹è±¡ï¼ˆååºåˆ—åŒ–ï¼‰

3. å¤„ç†JSONæ ‘çŠ¶ç»“æ„ï¼ˆJsonNodeï¼‰ï¼Œä»¥ä¾¿äºå¯¹JSONæ•°æ®è¿›è¡Œæ“ä½œå’Œå¤„ç†

4. æä¾›å„ç§é…ç½®é€‰é¡¹ï¼Œä¾‹å¦‚æ—¥æœŸæ ¼å¼ã€å¤„ç† null å€¼ã€å¤„ç†ä¸ç¡®å®šçš„å­—æ®µç­‰

![[JavaWeb#^a733e5]]

@JsonFormat()
	pattern = "yyyy-MM-dd HH:mm:ss",
	timezone = "GMT+8"

@DateTimeFormat()
	pattern = "yyyy-MM-dd HH:mm:ss"
åŠ åˆ°æ—¶é—´ç›¸å…³å­—æ®µä¸Šã€‚

åœ¨SpringBootçš„yamlä¸­å…¨å±€æŒ‡å®š
```
spring:
	jackson:
		date-format: yyyy-MM-dd HH:mm:ss
		time-zone: GMT+8
```

## FastJson
é˜¿é‡Œå·´å·´çš„å¼€æºJSONè§£æåº“ï¼Œå®ƒå¯ä»¥è§£æJSONæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œæ”¯æŒå°†Java Beanåºåˆ—åŒ–ä¸ºJSONå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥ä»JSONå­—ç¬¦ä¸²ååºåˆ—åŒ–åˆ°JavaBeanã€‚

Springæ¡†æ¶å®˜æ–¹çš„JSONè§£æå™¨æ˜¯[[#Jackson]]

ä¾èµ–å¼•å…¥ï¼Œå›ºå®šç”¨è¿™ä¸ªç‰ˆæœ¬ï¼Œä¸ç„¶maven-repoè¶Šæ¥è¶Šå¤§ï¼
```
<dependency>
    <groupId>com.alibaba</groupId>
    <artifactId>fastjson</artifactId>
    <version>1.2.83</version>
</dependency>
```

## gson
Googleæä¾›çš„JSONè§£æå·¥å…·åŒ…

å›ºå®šç”¨è¿™ä¸ªç‰ˆæœ¬çš„ä¾èµ–ï¼Œæœ¬åœ°ä»“åº“å·²ç»ä¸‹è½½äº†ï¼
```
<dependency>
   <groupId>com.google.code.gson</groupId>
   <artifactId>gson</artifactId>
   <version>2.9.1</version>
</dependency>
```
## junit5
å•å…ƒæµ‹è¯•æ¡†æ¶ï¼
è¿™é‡Œå®¹æ˜“å¯¼é”™åŒ…ï¼Œä¸€å®šè¦æ³¨æ„å¯¹åº”å…³ç³»

| XX             | XX                         |                                             |
| -------------- | -------------------------- | ------------------------------------------- |
| Junit4         | org.junit.Test             | Spring Boot 2.2.xä¹‹å‰ç”¨4<br>å¿…é¡»é…åˆ@RunWithæ³¨è§£ä¸€èµ·ä½¿ç”¨ |
| Junit5 ^28cb08 | org.junit.jupiter.api.Test | Spring Boot 2.2.xä¹‹åç”¨5                       |

### junit5
junit5çš„ä¾èµ–ï¼Œå›ºå®šç”¨è¿™ä¸ªç‰ˆæœ¬ï¼Œä¸ç„¶maven-repoè¶Šæ¥è¶Šå¤§ï¼
```
<dependency>
   <groupId>org.junit.jupiter</groupId>
   <artifactId>junit-jupiter-api</artifactId>
   <version>5.10.0</version>
</dependency>
```

```
@SpringBootTest
public class JwtTest {
    // Fieldï¼Œä¾èµ–æ³¨å…¥
    @Autowired
    private JwtHelper jwtHelper;

    @Test
    public void test01(){}

```

Junit5ä½¿ç”¨ç¤ºä¾‹ä»£ç 

main/javaä¸­å†™å®Œçš„ç±»å’Œæ–¹æ³•ï¼Œåœ¨ç±»åä¸Šå³é”®ï¼Œcreate testï¼Œå¯ä»¥åŸºäºJunit 5è‡ªåŠ¨åˆ°test/javaä¸‹ç”Ÿæˆæµ‹è¯•æ–¹æ³•ï¼è¿›è¡Œå•å…ƒæµ‹è¯•ã€‚

ä½¿ç”¨æ–­è¨€æ–¹æ³•ï¼Œæ¥éªŒè¯æ–¹æ³•æ˜¯å¦æ­£ç¡®ï¼

![[å‘½åè§„èŒƒ#^fead05]]
#### å¸¸ç”¨æ–¹æ³•
@Test    æ ‡æ³¨ä¸ºæµ‹è¯•æ–¹æ³•
@AfterAll   åœ¨æµ‹è¯•æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œï¼Œé™æ€ï¼Œåªæ‰§è¡Œä¸€æ¬¡ï¼ˆä¾‹å¦‚å…³é—­èµ„æºï¼‰
@BeforeAll  åœ¨æµ‹è¯•æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œï¼Œé™æ€ï¼Œåªæ‰§è¡Œä¸€æ¬¡ï¼ˆä¾‹å¦‚åŠ è½½æ•°æ®åº“è¿æ¥æ± ï¼‰
@AfterEach   åœ¨æµ‹è¯•æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œï¼Œæ‰§è¡Œå¤šæ¬¡
@BeforeEach   åœ¨æµ‹è¯•æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œï¼Œæ‰§è¡Œå¤šæ¬¡
##### Assertions
æ–­è¨€å·¥å…·ç±»ï¼Œæä¾›å„ç§é™æ€æ–­è¨€æ–¹æ³•

###### assertEquals / assertNotEquals()
æ–­è¨€æ˜¯å¦ç›¸ç­‰
```
Assertions.assertEquals(num, 10);    //æµ‹è¯•ç»“æœnumï¼Œå¦‚æœç­‰äº10ï¼Œå°±æµ‹è¯•é€šè¿‡
```
###### assertNull / assertNotNull
æ–­è¨€æ˜¯å¦ä¸ºç©º


```
<!--        springbootä¸junitæ•´åˆçš„æµ‹è¯•åœºæ™¯å¯åŠ¨å™¨-->  
<dependency>  
	<groupId>org.springframework.boot</groupId>  
	<artifactId>spring-boot-starter-test</artifactId>  
</dependency>
```

å¦‚ä½•åœ¨æœ€æ™®é€šçš„IDEAé¡¹ç›®ä¸­ï¼Œå¼•å…¥Junitåº“ï¼Ÿ
[[Java_01_åŸºç¡€#å¯¼JaråŒ…/åº“]]

JUnitå•å…ƒæµ‹è¯•ï¼Œæ¯”mainæ–¹æ³•ä¸­æœ‰å“ªäº›å¥½å¤„ï¼Ÿ
1ã€mainæ–¹æ³•é‡Œï¼Œå¦‚æœåªæƒ³æ‰§è¡Œä¸€éƒ¨åˆ†ï¼Œéœ€è¦æŠŠå‰é¢çš„ä»£ç æ³¨é‡Šæ‰ã€‚JUnitå•å…ƒæµ‹è¯•çš„è¯ï¼Œå°±ä¸éœ€è¦ï¼Œç›´æ¥å¤šä¸ªæ–¹æ³•@Testï¼Œç‹¬ç«‹æ‰§è¡Œ
2ã€mainæ–¹æ³•æ˜¯é™æ€æ–¹æ³•ï¼Œé‡Œé¢è¦æƒ³ç”¨åŒä¸€ä¸ªç±»ä¸­çš„æ–¹æ³•ï¼Œéœ€è¦å®ä¾‹åŒ–ä¹‹åå†è°ƒç”¨ï¼›å¦‚æœæ˜¯JUnitå•å…ƒæµ‹è¯•ç±»ï¼Œç”±äºæ˜¯éé™æ€ç±»ï¼Œç›´æ¥è°ƒç”¨æ–¹æ³•å³å¯ã€‚

```
public class TestJUint{
	public void method(){
		sout("method.....");
	}

	public static void main(String[] args){
		TestJUnit testJUnit = new TestJUnit();
		testJUnit.method();
	}

	@Test
	public void test01(){
		method();           //å¯¹æ¯”é™æ€æ–¹æ³•mainï¼Œè¿˜è¦å®ä¾‹åŒ–ï¼Œè¿™é‡Œç›´æ¥è°ƒç”¨å³å¯ï¼
	}
}
```

### ~~Junit4~~
**æ”¾å¼ƒï¼Œä¸ç”¨è¿™ä¸ªäº†ï¼**
Junit4ä½¿ç”¨ç¤ºä¾‹ä»£ç 
```
@RunWith(SpringRunner.class)         // JUnit4éœ€è¦
@SpringBootTest
public class GulimallProductApplicationTests {
    @Autowired
    BrandService brandService;

	@Test
    public void testFindPath(){
		// æµ‹è¯•æ–¹æ³•
    }
}
```

## hutool
https://doc.hutool.cn/pages/index/

ä¾èµ–åŒ…ï¼Œå›ºå®šç”¨è¿™ä¸ªç‰ˆæœ¬ï¼Œä¸ç„¶maven-repoè¶Šæ¥è¶Šå¤§
```
<dependency>  
    <groupId>cn.hutool</groupId>  
    <artifactId>hutool-all</artifactId>  
    <version>5.8.8</version>  
</dependency>
```

Javaçš„ä¸€ä¸ªå·¥å…·åŒ…ï¼Œ
å…·ä½“æ¥è¯´ï¼ŒHutoolæä¾›äº†å¦‚ä¸‹åŠŸèƒ½ï¼š  
- å­—ç¬¦ä¸²å¤„ç†ï¼šåŒ…æ‹¬å­—ç¬¦ä¸²åˆ¤ç©ºã€æˆªå–ã€æ›¿æ¢ç­‰æ“ä½œ  
- æ—¥æœŸæ—¶é—´å¤„ç†ï¼šæä¾›äº†æ–¹ä¾¿çš„æ—¥æœŸæ—¶é—´æ“ä½œä»¥åŠæ ¼å¼åŒ–æ–¹æ³•  
- æ–‡ä»¶æ“ä½œï¼šç®€åŒ–äº†æ–‡ä»¶è¯»å†™ã€å¤åˆ¶ã€æ–‡ä»¶ç±»å‹åˆ¤æ–­ç­‰æ“ä½œ  
- åŠ å¯†è§£å¯†ï¼šæ”¯æŒå¸¸è§çš„åŠ å¯†ç®—æ³•ã€æ‘˜è¦ç®—æ³•ä»¥åŠBase64ç¼–è§£ç   
- HTTPè¯·æ±‚ï¼šæä¾›äº†ç®€æ´æ˜“ç”¨çš„Httpè¯·æ±‚å·¥å…·  
- æ•°æ®æ ¡éªŒï¼šåŒ…æ‹¬èº«ä»½è¯æ ¡éªŒã€æ‰‹æœºå·æ ¡éªŒã€é‚®ç®±æ ¡éªŒç­‰  
- å¯¹è±¡è½¬æ¢ï¼šæ–¹ä¾¿åœ°è¿›è¡ŒBeanå¯¹è±¡ä¸Mapã€JSONç­‰æ•°æ®ç»“æ„ä¹‹é—´çš„è½¬æ¢  
  
æ€»çš„æ¥è¯´ï¼ŒHutoolæ—¨åœ¨æé«˜Javaå¼€å‘æ•ˆç‡ï¼Œç®€åŒ–å¼€å‘äººå‘˜çš„æ—¥å¸¸å·¥ä½œï¼Œä½¿å¾—å¼€å‘è¿‡ç¨‹æ›´åŠ ä¾¿æ·ã€‚å¦‚æœä½ åœ¨Javaé¡¹ç›®ä¸­éœ€è¦é¢‘ç¹ä½¿ç”¨å„ç§å·¥å…·æ–¹æ³•ï¼Œå¯ä»¥è€ƒè™‘å¼•å…¥Hutoolæ¥ç®€åŒ–å¼€å‘å·¥ä½œã€‚

### å­—ç¬¦ä¸²ç›¸å…³

#### StrUtil
æä¾›ï¼š[[#apache.commons.lang3åŒ…]]ä¸­[[#StringUtilsç±»]]ç›¸åŒçš„åŠŸèƒ½

è”æƒ³åˆ°ï¼š[[SpringMVC#å‚æ•°æ ¡éªŒ]]   ->  @NotNull    @NotEmpty    @NotBlank

##### å¸¸ç”¨æ–¹æ³•


###### hasBlank(str1, str2)
ä¼ é€’çš„å¤šä¸ªå­—ç¬¦ä¸²å¯¹è±¡ï¼Œæ˜¯å¦ä¸ºç©ºæˆ–åŒ…å«ç©ºç™½æ ¼ï¼

å¸¸ç”¨æ¥åœ¨Controllerå±‚ï¼Œä¼ é€’æ¥çš„å‚æ•°è¿›è¡Œåˆ¤ç©ºï¼
###### hasEmpty(str1, str2)
ä¼ é€’çš„å¤šä¸ªå­—ç¬¦ä¸²å¯¹è±¡ï¼Œæ˜¯å¦ä¸ºç©º

### core.utilåŒ…
#### RandomUtilç±»
```
map.put("nonce", RandomUtil.randomNumbers(4));  //å‚æ•°3:éšæœºæ•°

//Â éšæœºæ•°å·¥å…·  
intÂ randomIntÂ =Â RandomUtil.randomInt(1,Â 100);  
System.out.println("éšæœºæ•´æ•°ï¼š"Â +Â randomInt);
```

#### StrUtilç±»
```
//Â å­—ç¬¦ä¸²å·¥å…·  
StringÂ strÂ =Â "HutoolÂ isÂ awesome";  
booleanÂ isEmptyÂ =Â StrUtil.isEmpty(str);  
System.out.println("å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºï¼š"Â +Â isEmpty);
```

#### NumberUtilç±»
```
//Â æ•°å­—å·¥å…·  
doubleÂ resultÂ =Â NumberUtil.add(1.2,Â 3.4);  
System.out.println("æ•°å­—ç›¸åŠ ï¼š"Â +Â result);
```

### core.ioåŒ…
FileUtilç±»
```
publicÂ classÂ FileExampleÂ {  
Â Â Â Â publicÂ staticÂ voidÂ main(String[]Â args)Â {  
Â Â Â Â Â Â Â Â //Â è¯»å–æ–‡ä»¶å†…å®¹  
Â Â Â Â Â Â Â Â StringÂ contentÂ =Â FileUtil.readUtf8String("test.txt");  
Â Â Â Â Â Â Â Â System.out.println("æ–‡ä»¶å†…å®¹ï¼š"Â +Â content);  
  
Â Â Â Â Â Â Â Â //Â å†™å…¥æ–‡ä»¶å†…å®¹  
Â Â Â Â Â Â Â Â FileUtil.writeUtf8String("Hello,Â Hutool!",Â "test.txt");  
  
Â Â Â Â Â Â Â Â //Â å¤åˆ¶æ–‡ä»¶  
Â Â Â Â Â Â Â Â FileUtil.copy("test.txt",Â "test_copy.txt",Â true);  
Â Â Â Â }  
}
```

### httpåŒ…
ç±»ä¼¼äºï¼š
- åŸç”Ÿçš„HttpClient 
- [[Spring FrameWork#~~RestTemplate~~]]
- [[JavaWeb#ã€å®ç°ç±»ã€‘HttpServletRequest]]

#### HttpRequest
å‘èµ·HTTPè¯·æ±‚çš„ç±»ï¼Œè·å–åˆ°HttpResponseå“åº”å¯¹è±¡
```
HttpResponse httpResponse = HttpRequest.post("http://localhost:8123/api/name/user")  
        .addHeaders(getHeadMap(json))  // å°†mapä½œä¸ºå‚æ•°ï¼Œä¼ é€’åˆ°headerä¸­
        .body(json)  
        .execute();
```

```
importÂ cn.hutool.http.HttpRequest;  
importÂ cn.hutool.http.HttpResponse;  
  
publicÂ classÂ HttpExampleÂ {  
Â Â Â Â publicÂ staticÂ voidÂ main(String[]Â args)Â {  
Â Â Â Â Â Â Â Â //Â å‘é€Â GETÂ è¯·æ±‚  
Â Â Â Â Â Â Â Â HttpResponseÂ responseÂ =Â HttpRequest.get("https://api.github.com")  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .timeout(2000)Â Â //Â è¶…æ—¶è®¾ç½®ï¼Œå•ä½æ¯«ç§’  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .execute();  
Â Â Â Â Â Â Â Â System.out.println("å“åº”å†…å®¹ï¼š"Â +Â response.body());  
  
Â Â Â Â Â Â Â Â //Â å‘é€Â POSTÂ è¯·æ±‚  
Â Â Â Â Â Â Â Â HttpResponseÂ postResponseÂ =Â HttpRequest.post("https://httpbin.org/post")  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .form("key1",Â "value1")  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .timeout(2000)  
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .execute();  
Â Â Â Â Â Â Â Â System.out.println("POST å“åº”å†…å®¹ï¼š"Â +Â postResponse.body());  
Â Â Â Â }  
}
```

### crypto.digeståŒ…
##### Digester(åŠ å¯†ç®—æ³•)
åˆ©ç”¨åŠ å¯†ç®—æ³•ï¼Œç”ŸæˆåŠ å¯†å­—ç¬¦ä¸²ã€‚
![[åŠ å¯†#^9d05d8]]

```
importÂ cn.hutool.crypto.SecureUtil;  
importÂ cn.hutool.crypto.symmetric.AES;  
  
publicÂ classÂ CryptoExampleÂ {  
Â Â Â Â publicÂ staticÂ voidÂ main(String[]Â args)Â {  
Â Â Â Â Â Â Â Â //Â MD5Â åŠ å¯†  
Â Â Â Â Â Â Â Â StringÂ md5Â =Â SecureUtil.md5("password");  
Â Â Â Â Â Â Â Â System.out.println("MD5ï¼š"Â +Â md5);  
  
Â Â Â Â Â Â Â Â //Â AESÂ åŠ å¯†è§£å¯†  
Â Â Â Â Â Â Â Â AESÂ aesÂ =Â SecureUtil.aes();  
Â Â Â Â Â Â Â Â StringÂ encryptedÂ =Â aes.encryptHex("Hello,Â Hutool!");  
Â Â Â Â Â Â Â Â System.out.println("AES åŠ å¯†ï¼š"Â +Â encrypted);  
Â Â Â Â Â Â Â Â StringÂ decryptedÂ =Â aes.decryptStr(encrypted);  
Â Â Â Â Â Â Â Â System.out.println("AES è§£å¯†ï¼š"Â +Â decrypted);  
Â Â Â Â }  
}
```

### jsonåŒ…
#### JsonUtil
##### å¸¸ç”¨æ–¹æ³•
###### toJsonStr(User user)
å°†å¯¹è±¡è½¬æ¢ä¸ºJsonå­—ç¬¦ä¸²
```
@Data
public User user {
	public String name;
	public Integer age;
}

User tom = new User("tom",28);

|
V

{
  "name": "tom",
  "age": 28
}
```

```
public String getUserNameByPost(User user) {  
	String json = JSONUtil.toJsonStr(user);  
//        System.out.println(json);  
	HttpResponse httpResponse = HttpRequest.post(GATEWAY_HOST + "/api/name/user")  
			.addHeaders(getHeadMap(json))  
			.body(json)  
			.execute();  
	System.out.println(httpResponse.getStatus());  
	String result = httpResponse.body();  
	return result;  
}
```

### dataåŒ…
å¤„ç†æ—¥æœŸï¼
```
importÂ cn.hutool.core.date.DateUtil;  
  
publicÂ classÂ DateExampleÂ {  
Â Â Â Â publicÂ staticÂ voidÂ main(String[]Â args)Â {  
Â Â Â Â Â Â Â Â //Â è·å–å½“å‰æ—¶é—´  
Â Â Â Â Â Â Â Â DateÂ nowÂ =Â DateUtil.date();  
Â Â Â Â Â Â Â Â System.out.println("å½“å‰æ—¶é—´ï¼š"Â +Â now);  
  
Â Â Â Â Â Â Â Â //Â å­—ç¬¦ä¸²è½¬æ—¥æœŸ  
Â Â Â Â Â Â Â Â StringÂ dateStrÂ =Â "2022-01-01Â 12:30:45";  
Â Â Â Â Â Â Â Â DateÂ dateÂ =Â DateUtil.parse(dateStr);  
Â Â Â Â Â Â Â Â System.out.println("å­—ç¬¦ä¸²è½¬æ—¥æœŸï¼š"Â +Â date);  
  
Â Â Â Â Â Â Â Â //Â æ—¥æœŸæ ¼å¼åŒ–  
Â Â Â Â Â Â Â Â StringÂ formatÂ =Â DateUtil.format(date,Â "yyyy/MM/dd");  
Â Â Â Â Â Â Â Â System.out.println("æ—¥æœŸæ ¼å¼åŒ–ï¼š"Â +Â format);  
  
Â Â Â Â Â Â Â Â //Â æ—¥æœŸåŠ å‡  
Â Â Â Â Â Â Â Â DateÂ newDateÂ =Â DateUtil.offsetDay(now,Â -3);  
Â Â Â Â Â Â Â Â System.out.println("ä¸‰å¤©å‰çš„æ—¶é—´ï¼š"Â +Â newDate);  
Â Â Â Â }  
}
```

## apache.commons
æä¾›äº†ä¸€ç³»åˆ—å·¥å…·é›†åˆç±»ï¼Œç±»ä¼¼äº[[#hutool]]

### apache.commons.lang3åŒ…
ä¾èµ–åŒ…å°±ç”¨è¿™ä¸ªç‰ˆæœ¬ï¼Œæœ¬åœ°Mavenåº“å°±æœ‰ï¼Œé¿å…é‡å¤ä¸‹è½½ã€‚
```
<dependency>  
    <groupId>org.apache.commons</groupId>  
    <artifactId>commons-lang3</artifactId>  
    <version>3.13.0</version>  
</dependency>
```

1. å­—ç¬¦ä¸²æ“ä½œï¼šcommons-lang3 æä¾›äº†ä¸€ç³»åˆ—å­—ç¬¦ä¸²å¤„ç†çš„å·¥å…·æ–¹æ³•ï¼Œå¦‚å­—ç¬¦ä¸²æ‹¼æ¥ã€æˆªå–ã€æ›¿æ¢ã€æ¯”è¾ƒã€åˆ†å‰²ã€æ ¼å¼åŒ–ç­‰ã€‚
2. å¯¹è±¡æ“ä½œï¼šcommons-lang3 æä¾›äº†ä¸€äº›ç”¨äºå¯¹è±¡çš„å·¥å…·æ–¹æ³•ï¼Œå¦‚å¯¹è±¡æ¯”è¾ƒã€å…‹éš†ã€æ·±æ‹·è´ç­‰ã€‚
3. æ•°ç»„æ“ä½œï¼šcommons-lang3 æä¾›äº†ä¸€äº›ç”¨äºæ•°ç»„çš„å·¥å…·æ–¹æ³•ï¼Œå¦‚æ•°ç»„è½¬æ¢ã€å¤åˆ¶ã€å¡«å……ã€åˆå¹¶ã€æŸ¥æ‰¾ã€æˆªå–ç­‰ã€‚
4. æ—¥æœŸæ“ä½œï¼šcommons-lang3 æä¾›äº†ä¸€äº›ç”¨äºæ—¥æœŸå’Œæ—¶é—´çš„å·¥å…·æ–¹æ³•ï¼Œå¦‚æ—¥æœŸæ ¼å¼åŒ–ã€è§£æã€è®¡ç®—ç­‰ã€‚
5. å¼‚å¸¸å¤„ç†ï¼šcommons-lang3 æä¾›äº†ä¸€äº›ç”¨äºå¼‚å¸¸å¤„ç†çš„å·¥å…·æ–¹æ³•ï¼Œå¦‚å¼‚å¸¸å°è£…ã€è½¬æ¢ã€å †æ ˆä¿¡æ¯è·å–ç­‰ã€‚

#### StringUtilsç±»
org.apache.commons.lang3.StringUtils
æä¾›äº†å­—ç¬¦ä¸²å¤„ç†çš„å·¥å…·æ–¹æ³•ï¼Œå¦‚åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºã€æˆªå–å­ä¸²ã€æ‹¼æ¥å­—ç¬¦ä¸²ç­‰ã€‚

empty  =>  null  æˆ– str.length()=0
	    ä¸ä¸ºç©º    ä¸ç­‰äºnull      ^028e43

blank    => null  æˆ– str.length()=0  æˆ–  ç©ºç™½æ ¼

| XX                     | å«ä¹‰          | åä¾‹ç¤ºèŒƒ                            |
| ---------------------- | ----------- | ------------------------------- |
| isEmpty(str)           | æ˜¯å¦ä¸ºç©º        | isEmpty("   ")    ç©ºç™½æ ¼ä¸ä½œä¸ºemptyå¤„ç† |
| isBlank(str)           | æ˜¯å¦ä¸ºç©ºæˆ–æœ‰ç©ºç™½æ ¼   |                                 |
| isNotBlank(str)        | æ˜¯å¦ä¸ä¸ºç©ºæˆ–æ²¡æœ‰ç©ºç™½æ ¼ |                                 |
| isAnyBlank(str1, str2) | å¤šä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæ»¡è¶³ä»»ä¸€ |                                 |

^7ac796

###### static boolean isEmpty(str)
æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºï¼ŒåŒ…æ‹¬ null å’Œç©ºå­—ç¬¦ä¸²ã€‚

æ³¨æ„åŒºåˆ†ï¼šObjectç±»çš„é€šç”¨æ–¹æ³•[[#boolean isEmpty()]]
![[#^21ee45]]

###### static boolean isBlank(str)
æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºæˆ–ä»…åŒ…å«ç©ºç™½å­—ç¬¦ã€‚
###### isAnyBlank(str)
æ£€æŸ¥ä¼ å…¥çš„å¤šä¸ªå­—ç¬¦ä¸²å‚æ•°ä¸­æ˜¯å¦æœ‰ä»»ä½•ä¸€ä¸ªæ˜¯ null æˆ–è€…ç©ºå­—ç¬¦ä¸²æˆ–è€…åªåŒ…å«ç©ºç™½å­—ç¬¦
```
String str1 = "hello";
String str2 = "";
String str3 = "Â  ";
String str4 = null;

boolean anyBlank = StringUtils.isAnyBlank(str1, str2, str3, str4);
System.out.println(anyBlank);Â  // è¾“å‡º true
```
###### isNotBlank()
```
if (StringUtils.isNotBlank(name)) {
	queryWrapper.eq("name",name);
}
```


å¸¸è§„çš„Stringæ“ä½œæ–¹æ³•ï¼Œç±»ä¼¼ï¼š[[#Stringç±»]]
trim()   å»é™¤å­—ç¬¦ä¸²ä¸¤ç«¯çš„ç©ºç™½å­—ç¬¦

#### Pairç±»
org.apache.commons.lang3.tuple
æ³¨æ„ï¼šapache.commonsåŒ…æä¾›Pairæ˜¯æŠ½è±¡ç±»ï¼Œä¸èƒ½è¢«ç›´æ¥å®ä¾‹åŒ–
å®ä¾‹åŒ–æ—¶å¯ä»¥ä½¿ç”¨MutablePairå’ŒImmutablePairï¼Œä¸€ä¸ªå¯å˜ï¼Œä¸€ä¸ªä¸å¯å˜
1ã€keyä¸€æ—¦è®¾å®šäº†ï¼Œä¸ç®¡æ˜¯MutablePair è¿˜æ˜¯ ImmutablePairéƒ½æ˜¯ä¸èƒ½æ”¹çš„ï¼
2ã€immutablePairä¸å¯å˜ï¼Œæ˜¯æŒ‡setValueæ—¶ï¼Œä¼šæŠ¥é”™ï¼šjava.lang.UnsupportedOperationException
```
ImmutablePair<String,Integer> immutablePair = new ImmutablePair("a",1);  
immutablePair.setValue(2);              // ä¸å¯å˜ï¼Œå³æ— æ³•è®¾ç½®å€¼
  
MutablePair<String,Integer> mutablePair = new MutablePair<>("b",2);  
mutablePair.setValue(3);               // å¯ä»¥è®¾ç½®å€¼  
```

### ~~ã€æ—¥å¿—é—¨é¢ã€‘apache.commons.loggingåŒ…~~
org.apache.commons.loggingåŒ…
apache.commons.lang3.loggingåŒ…çš„ç‰¹ç‚¹å°±æ˜¯ï¼šå®ƒå¯ä»¥æŒ‚æ¥ä¸åŒçš„æ—¥å¿—ç³»ç»Ÿï¼Œå¹¶é€šè¿‡é…ç½®æ–‡ä»¶æŒ‡å®šæŒ‚æ¥çš„æ—¥å¿—ç³»ç»Ÿã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒCommons Logginè‡ªåŠ¨æœç´¢å¹¶ä½¿ç”¨Log4jï¼ˆLog4jæ˜¯å¦ä¸€ä¸ªæµè¡Œçš„æ—¥å¿—ç³»ç»Ÿï¼‰ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°Log4jï¼Œå†ä½¿ç”¨JDK Loggingã€‚

mavenä¾èµ–
```
<dependency>
Â  <groupId>commons-logging</groupId>
Â  <artifactId>commons-logging</artifactId>
Â  <version>1.2</version>
</dependency>
```
#### Log
org.apache.commons.logging.Log
#### LogFactory

æ³¨æ„ï¼šè¿™æ˜¯ä¸æ˜¯apacheï¼Œæ˜¯ä¸€ä¸ªç¬¬ä¸‰æ–¹åŒ…ï¼Œæ‰€ä»¥å¯ä»¥çœ‹åˆ°mavenä¾èµ–çš„groupIdä¸­æ²¡æœ‰apacheï¼Œæ‰€ä»¥éœ€è¦å•ç‹¬å¯¼å…¥ã€‚

## EasyExcel
ä¸poiå¯¹æ¯”

ä¾èµ–åŒ…ï¼Œå›ºå®šç”¨è¿™ä¸ªç‰ˆæœ¬ï¼Œä¸ç„¶maven-repoè¶Šæ¥è¶Šå¤§
```
<dependency>  
    <groupId>com.alibaba</groupId>  
    <artifactId>easyexcel</artifactId>  
    <version>3.3.4</version>  
</dependency>
```

| EasyExcel | poi        |
| --------- | ---------- |
| é€è¡ŒåŠ è½½åˆ°å†…å­˜ä¸­  | ä¸€æ¬¡æ€§åŠ è½½åˆ°å†…å­˜ä¸­  |
| æŸ¥æ–¹ä¾¿       | æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤æ–¹ä¾¿ |
| è”æƒ³åˆ°ï¼šæ•°ç»„    | è”æƒ³åˆ°ï¼šé“¾è¡¨     |

[EasyExcelæ“ä½œæ‰‹å†Œ](https://easyexcel.opensource.alibaba.com/docs/current/)

**å†™æ“ä½œçš„æ­¥éª¤**
1ã€å¼•å…¥ä¾èµ–
2ã€åˆ›å»ºå®ä½“ç±»ï¼ˆå’ŒExcelçš„columnå¯¹åº”ï¼‰ï¼Œè®¾ç½®excelè¡¨å¤´
```
@Data
public class User{
	@ExcelProperty(value="ç”¨æˆ·ç¼–å·")
	private int id;

	@ExcelProperty(value="ç”¨æˆ·åç§°")
	private String name;

}
```
3ã€è°ƒç”¨EasyExcelæ–¹æ³•å®ç°å†™æ“ä½œã€‚
```
public class TestWrite {
	String fileName = "D:\\atguigu.xlsx";
	EasyExcel.write(fileName,User.class)
			 .sheet("è¡¨1")
			 .doWrite(data());
}

	private static List<User> data(){
		List<User> list = new ArrayList<User>();
		for (int i = 0, i < 10, i++){
			User data = new User();
			data.setId(i);
			data.setName("lucy"+i);
			list.add(data);
		}
		return list
	}
```

3ã€è¯¾ç¨‹åˆ†ç±»å¯¼å…¥ï¼ˆå°†excelæ·»åŠ åˆ°æ•°æ®åº“è¡¨ï¼‰

**è¯»æ“ä½œçš„æ­¥éª¤**
1ã€å¼•å…¥ä¾èµ–
2ã€åˆ›å»ºä¸Excelå¯¹åº”å®ä½“ç±»ï¼Œè®¾ç½®å¯¹è±¡å…³ç³»
```
@Data
public class User{
	@ExcelProperty(value="ç”¨æˆ·ç¼–å·", index=0)
	private int id;

	@ExcelProperty(value="ç”¨æˆ·åç§°", index=1)
	private String name;

}
```

3ã€åˆ›å»ºç›‘å¬å™¨ï¼Œè¿›è¡Œé€è¡Œè§£æè¿‡ç¨‹
	ï¼ˆ1ï¼‰åˆ›å»ºç±»ï¼Œç»§æ‰¿ç±»ï¼Œå°è£…è§£ææ–¹æ³•
```
public class ExcelListener extends AnalysisEventListener<User> {
    //åˆ›å»ºlisté›†åˆå°è£…æœ€ç»ˆçš„æ•°æ®
    List<User> list = new ArrayList<User>();
    
    //ä¸€è¡Œä¸€è¡Œå»è¯»å–excleå†…å®¹
    @Override
    public void invoke(User user, AnalysisContext analysisContext) {
        System.out.println("***"+user);
        list.add(user);
    }
    
    //è¯»å–excelè¡¨å¤´ä¿¡æ¯
    @Override
    public void invokeHeadMap(Map<Integer, String> headMap, AnalysisContext context) {
        System.out.println("è¡¨å¤´ä¿¡æ¯ï¼š"+headMap);
    }
    //è¯»å–å®Œæˆåæ‰§è¡Œ
    @Override
    public void doAfterAllAnalysed(AnalysisContext analysisContext) {
    }
}
```

4ã€è°ƒç”¨EasyExcelè¯»æ–¹æ³•å®ç°æ“ä½œ
```
   public static void main(String[] args) throws Exception {
        String fileName = "D:\\atguigu.xlsx";
        
        // è¿™é‡Œ éœ€è¦æŒ‡å®šè¯»ç”¨å“ªä¸ªclasså»è¯»ï¼Œç„¶åè¯»å–ç¬¬ä¸€ä¸ªsheet æ–‡ä»¶æµä¼šè‡ªåŠ¨å…³é—­
        EasyExcel.read(fileName, User.class, new ExcelListener()).sheet().doRead();
}
```

## Guava
googleæä¾›ç»™Javaçš„å·¥å…·åº“ï¼Œæä¾›äº†è®¸å¤šå¸¸ç”¨çš„å·¥å…·ç±»å’Œæ•°æ®ç»“æ„ï¼Œä¾‹å¦‚é›†åˆã€ç¼“å­˜ã€å¹¶å‘å·¥å…·ç­‰ï¼Œæ˜¯è®¸å¤šJavaå¼€å‘è€…çš„é¦–é€‰åº“ä¹‹ä¸€ã€‚
[ä¸€ç¯‡è®©ä½ ç†Ÿç»ƒæŒæ¡Google Guava](https://juejin.cn/post/6964267379547504648)

mavenä¾èµ–ï¼Œæœ¬åœ°repoå°±æœ‰ï¼Œå°±ç”¨è¿™ä¸ªï¼Œé¿å…å¤ç”¨ã€‚
```
<dependency>
    <groupId>com.google.guava</groupId>
    <artifactId>guava</artifactId>
    <version>22.0</version>
</dependency>
```

### å¸ƒéš†è¿‡æ»¤å™¨
#### åˆ›å»ºbloomFilter
```
BloomFilter<Integer> bloomFilter = BloomFilter.create(Funnels.integerFunnel(), size, fpp);

// Funnels.integerFunnel() å›ºå®šå†™æ³•
// sizeè¡¨ç¤ºbitMapæ•°ç»„çš„é•¿åº¦
// fppè¡¨ç¤ºè¯¯å·®æ¦‚ç‡ï¼Œè¯¯å·®æ¦‚ç‡è¶Šå°ï¼Œéœ€è¦ä»‹å…¥çš„hashå‡½æ•°è¶Šå¤šï¼Œæ€§èƒ½è¶Šå·®ï¼
```

#### bloomFilter.put(value)
å°†valueé€šè¿‡hashè®¡ç®—ï¼Œæ”¾å…¥bitMapçš„æŸä¸ªä½ç½®ä¸Šï¼Œè®¾ç½®ä¸ºtrue

#### boolean mightContain(value)
åˆ¤æ–­ä¼ å…¥çš„valueï¼Œæ˜¯å¦åœ¨bitMapä¸­å­˜åœ¨ï¼

## Redisson
æ˜¯å®˜æ–¹æ¨èçš„Javaç‰ˆRediså®¢æˆ·ç«¯
æ–¹ä¾¿å¼€å‘è€…åœ¨Javaåº”ç”¨ç¨‹åºä¸­è¿æ¥å’Œæ“ä½œRedisæ•°æ®åº“ã€‚

ä¾èµ–åŒ…ï¼Œå›ºå®šç”¨è¿™ä¸ªç‰ˆæœ¬ï¼Œåœ¨æœ¬åœ°ä»“åº“å·²æœ‰ï¼
```
<dependency>
Â  <groupId>org.redisson</groupId>
Â  <artifactId>redisson</artifactId>
Â  <version>3.15.0</version>
</dependency>
```

[[SpringBoot#Redissonçš„SpringBooté…ç½®]]

### åŸºæœ¬æ­¥éª¤

#### æ­¥éª¤1ï¼šåŸºäºconfigï¼Œè¿æ¥redis
```
Config config = new Config();

config.useSingleServer()
Â  Â  Â  .setAddress("redis://127.0.0.1:6379")
Â  Â  Â  .setPassword("your_password");

RedissonClient client = Redisson.create(config);
```

#### æ­¥éª¤2ï¼šåŸºäºclientï¼Œè¿›è¡Œå¸¸è§„redisæ“ä½œ
```
RBucket<String> bucket = client.getBucket("myKey");
// è·å–å­—ç¬¦ä¸²å€¼
bucket.set("Hello, Redison!");
String value = bucket.get();
System.out.println(value);

// æ“ä½œSeté›†åˆ
RSet<String> set = client.getSet("mySet");
set.add("item1");
set.add("item2");
set.add("item3");
System.out.println(set.size());
```


ä¾‹å¦‚å¯ä»¥ï¼šä½¿ç”¨åˆ†å¸ƒå¼é”
```
// è·å–åˆ†å¸ƒå¼é”
RLock lock = client.getLock("myLock");

lock.lock();
try {
Â  // åœ¨è¿™é‡Œæ‰§è¡Œéœ€è¦åŒæ­¥çš„ä»£ç 
} finally {
Â  lock.unlock();    // åˆ é™¤key,å¿…é¡»ä¿è¯åŸå­æ€§ï¼Œé‡‡ç”¨luaè„šæœ¬
}
```

^a9cb3a

#### æ­¥éª¤3ï¼šå…³é—­è¿æ¥
```
client.shutdown();
```

### å¸¸ç”¨æ–¹æ³•
#### getBitSet()

#### getLock(lockKey)

#### å¸ƒéš†è¿‡æ»¤å™¨
##### getBloomFilter()
å¸ƒéš†è¿‡æ»¤å™¨
##### bloomFilter.tryInit(500000L,0.03)
bitmapæ•°ç»„çš„å®¹é‡ï¼Œ50Wä¸ªä½ç½®ï¼›è¯¯å·®ç‡æ˜¯3%

##### bloomFilter.add(String value)
å°†è¿™ä¸ªå€¼åŠ å…¥å¸ƒéš†è¿‡æ»¤å™¨ï¼Œåº•å±‚ä¼šåŸºäºvalueï¼Œè®¡ç®—å‡ºæ•°ç»„çš„åç§»é‡ï¼ˆæœ‰å¤šä¸ªhashå‡½æ•°è®¡ç®—å‡ºå¤šä¸ªåç§»ä½ç½®ï¼Œè¿™å‡ ä¸ªåç§»ä½ç½®è®¾ç½®æˆ1ï¼‰

##### bloomFilter.contains(String value)
è¿”å›bitMapä¸­æ˜¯å¦åŒ…å«æ­¤å€¼ï¼

#### å…¶ä»–
##### toJSONString(obj)
å°†å¯¹è±¡è½¬æ¢æˆ JSON å­—ç¬¦ä¸²
```
String text = JSON.toJSONString(obj); //åºåˆ—åŒ–
```
##### parseObject(json, å¯¹è±¡.class)
å°† JSON å­—ç¬¦ä¸²è½¬æ¢æˆå¯¹è±¡ã€‚
```
VO vo = JSON.parseObject("{...}", VO.class); //ååºåˆ—åŒ–
```


```
public class Person {
    @JSONField(name = "AGE")   // æ³¨è§£æ–¹å¼
    private int age;
 
    @JSONField(name = "FULL NAME")
    private String fullName;
 
    @JSONField(name = "DATE OF BIRTH")
    private Date dateOfBirth;
 
    public Person(int age, String fullName, Date dateOfBirth) {
        super();
        this.age = age;
        this.fullName= fullName;
        this.dateOfBirth = dateOfBirth;
    }
 
    // æ ‡å‡† getters & setters
}
```

è¿˜å¯ä»¥è‡ªå®šä¹‰formatï¼Œè¾“å‡ºçš„JSONä¸­ç¬¦åˆè¦æ±‚çš„æ ¼å¼
```
@JSONField(name="DATE OF BIRTH", format="dd/MM/yyyy", ordinalÂ =Â 3)  
privateÂ DateÂ dateOfBirth;

>>è¾“å‡º
>> "DATE OF BIRTH":"19/07/2016"
```


```
private List<Person> listOfPersons = new ArrayList<Person>();
 
@Before
public void setUp() {
    listOfPersons.add(new Person(15, "John Doe", new Date()));
    listOfPersons.add(new Person(20, "Janette Doe", new Date()));
}
 
@Test
public void whenJavaList_thanConvertToJsonCorrect() {
    String jsonOutput= JSON.toJSONString(listOfPersons);
}

è¾“å‡ºæˆJSONæ ¼å¼

[  
    {  
        "AGE":15,
        "DATE OF BIRTH":1468962431394,
        "FULL NAME":"John Doe"
    },
    {  
        "AGE":20,
        "DATE OF BIRTH":1468962431394,
        "FULL NAME":"Janette Doe"
    }
]
```

## Jedis
Javaç›´æ¥æ“ä½œRedisçš„åŸç”Ÿå®¢æˆ·ç«¯ï¼Œé€šè¿‡ç›´æ¥æ“ä½œRedisåè®®ï¼Œæ¥ä¸Redisé€šä¿¡ã€‚
æ„Ÿè§‰Jedisæ›´ç›´è§‚ï¼ŒRedissonæ›´åŠ å¤æ‚ï¼

mavenä¾èµ–ï¼Œå°±å›ºå®šç”¨è¿™ä¸ªä¾èµ–ï¼Œæœ¬åœ°maven-repoå°±æœ‰ï¼Œä¸è¦é‡å¤ä¸‹è½½å„ç§ä¸åŒç‰ˆæœ¬äº†ï¼
```
<dependency>  
	<groupId>redis.clients</groupId>  
	<artifactId>jedis</artifactId>  
	<version>3.8.0</version>  
</dependency>
```
### å¸¸ç”¨æ–¹æ³•

#### æ„é€ æ–¹æ³• jedis(url, port)
```
Jedis jedis = new Jedis("47.101.200.22",6379);   // è·å–åˆ°jediså®ä¾‹ï¼Œå°±å¯ä»¥æ“æ§redisæ•°æ®åº“äº†ï¼
```

#### Bitmapç›¸å…³
##### setbit(key, offset, value)
keyæ˜¯é”®ï¼Œoffsetæ˜¯åˆ©ç”¨å“ˆå¸Œå‡½æ•°è®¡ç®—å‡ºæ¥çš„æ•°ç»„åç§»é‡ï¼Œvalueæ˜¯trueæˆ–false!

##### getbit(key, hash(value))
åœ¨è¯¥keyå¯¹åº”çš„bitmapä¸­ï¼Œæ ¹æ®åç§»é‡æŸ¥è¯¢åˆ°è¿™ä¸ªå€¼æ˜¯0è¿˜æ˜¯1ï¼Œæ˜¯trueè¿˜æ˜¯false

#### å…³é—­èµ„æº
##### close()
å…³é—­redisè¿æ¥ï¼
